window.__require=function t(e,i,n){function a(o,r){if(!i[o]){if(!e[o]){var c=o.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var l=i[o]={exports:{}};e[o][0].call(l.exports,function(t){return a(e[o][1][t]||t)},l,l.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)a(n[o]);return a}({Boss:[function(t,e,i){"use strict";cc._RF.push(e,"6175fNGHFxDdZo7mmudGvlZ","Boss");var n=t("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{special_atk_particle:cc.Node,aniArray:[],explosionPrefabs:cc.Node,hpBar:cc.ProgressBar,barBackground:cc.Node,maxHP:0,init_json:null,isDead:!1,deadIntervalID:null,timout:null},start:function(){this.aniArray=["boss_left_idle","boss_left_hit","boss_left_atk"]},InitBoss:function(t){this.id=t.id,this.init_json_data=t,this.InitDeadStatus(),this.HideSpecialAttack()},SpecialAttack:function(){this.special_atk_particle.active||(this.special_atk_particle.active=!0,n.getInstance().PlaySfx(Env.SFX_BOSS_SPECIAL))},HideSpecialAttack:function(){this.special_atk_particle.active=!1},ShowExplosion:function(){this.explosionPrefabs.getComponent(cc.Animation).play("explosion")},UpdateStatus:function(t){switch(t){case-1:this._SetMonsterAnimation(0),this.InitDeadStatus();break;case-6:this._SetMonsterAnimation(2);break;case-4:this._SetMonsterAnimation(1);break;case-8:this.DeadAnimation()}},InitDeadStatus:function(){0!=this.isDead&&(this.isDead=!1,this.node.opacity=255,this.HideSpecialAttack(),clearInterval(this.deadIntevalID),clearInterval(this.timout))},_SetMonsterAnimation:function(t){var e=this.aniArray[t],i=this.getComponent(cc.Animation),n=i.getAnimationState(e);n.isPlaying||("boss_left_hit"===e&&this.ShowExplosion(),n.speed=Controller.getInstance().GetFrameRate(),i.play(e))},_UpdateHP:function(t){this.monster_type===AGGREE_2&&(this.hpBar.progress=t/this.maxHP,this.hpBar.progress>.6?this.barBackground.color=new cc.Color(0,255,0):this.barBackground.color=new cc.Color(255,0,0))},_InitHP:function(){this.hpBar.progress=this.maxHP,this.barBackground.color=new cc.Color(0,255,0)},DeadAnimation:function(){if(!this.isDead){this.isDead=!0,this._SetMonsterAnimation(1);var t=this;this.ShowExplosion(),this.timout=setTimeout(function(){t.deadIntervalID=setInterval(function(){t.node.opacity-=9,t.node.opacity<1&&clearInterval(t.deadIntervalID)},10)},300)}}}),cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager"}],CardManager:[function(t,e,i){"use strict";cc._RF.push(e,"94b28yqbslFmLfbQeHRokSI","CardManager");var n=t("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{errorPage:cc.Node,camera:cc.Camera,cards:{default:[],type:cc.Node},answerArray:[]},HideCards:function(){for(var t=0;t<this.cards.length;t++)this.cards[t].getComponent(cc.Animation).play("card_off"),this.cards[t].getChildByName("label").getComponent(cc.Label).string="",this.cards[t].active=!1},InitCards:function(t){this.answerArray=t;for(var e=0;e<t.length;e++)this.cards[e].getComponent(cc.Animation).play("card_off"),this.cards[e].getChildByName("label").getComponent(cc.Label).string="",this.cards[e].active=!0},ShowCards:function(t){this.cards[t].getChildByName("label").getComponent(cc.Label).string=this.answerArray[t],this.cards[t].getComponent(cc.Animation).play("card_on")},ShakeIt:function(){var t=this,e=[],i=this.camera.node.position;n.getInstance().PlaySfx(Env.SFX_ERROR),this.errorPage.active=!0;for(var a=0;a<4;a++){var s=2*(Math.random()-.5)*15.2,o=2*(Math.random()-.5)*15.2,r=cc.delayTime(.02),c=cc.moveBy(.02,cc.v2(s,o)),h=cc.moveBy(.02,cc.v2(-s,-o));e.push(r,c,h)}var l=cc.callFunc(function(){t.errorPage.active=!1,t.camera.node.position=i}),_=cc.sequence(e[0],e[1],e[2],e[3],l);this.camera.node.runAction(_)}}),cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager"}],Controller:[function(t,e,i){"use strict";cc._RF.push(e,"f836dKWNtlCD4eB7ehfDQhA","Controller");var n=cc.Class({statics:{_instance:null,getInstance:function(){return n._instance||(n._instance=new n),n._instance}},properties:{initJson:null,streamJson:null,loadIndex:0,gameStatus:!1,isGamePause:!1,finalIndex:!1,isGameReset:!1,minigameDone:!1,characterNumber:0,_currentCommandID:0,_soundVolume:1,_sfx_volume:1,_bgm_volume:1,_gender:0,_skin:0,_curBasic:0,_line_count:0,_sumScore:0,_bonusScore:0,_frameStatus:!1,_gameIsClear:!1},_setGender:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0){case 0:this._gender=0;break;case 1:this._gender=1;break;default:this._gender=0}},GetGender:function(){return this._gender},_setGun:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:18){case 12:this._skin=1;break;case 13:this._skin=2;break;case 18:default:this._skin=0}},GetSkinInfo:function(){return this._skin},_setScore:function(t,e,i){this._curBasic=t,this._bonusScore=e-t,this._line_count=i,this._sumScore=e},GetCurrentBasicScore:function(){return this._curBasic},GetBonusScore:function(){return this._bonusScore},GetTotalScore:function(){return this._sumScore},GetLineLimitScore:function(){return this._line_count},_setCurrentComandID:function(t){this._currentCommandID=t},getCurrentCommandID:function(){return this._currentCommandID},getCharNumber:function(){return this.characterNumber},setcharNumber:function(t){this.characterNumber=t},getInitStageData:function(){return this.initJson.stage},getInitPlayerData:function(){return this.initJson.player},getInitPrintPointArray:function(t){return this.initJson.item_list[t]},getInitOjbectDatas:function(){return this.initJson.stage.init_item_list},getStreamItemList:function(t){return this.streamJson.data[t]},isGameClearMotion:function(){return this._gameIsClear},setClearMotion:function(t){this._gameIsClear=t},getCommandLine:function(t){var e=this.streamJson;return null==e?-1:t>=e.data.length?-1:(this._setCurrentComandID(t),e.data[t])},getCommandLength:function(){return this.streamJson.data.length-1},ReceiveJson:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.initJson=t:this.streamJson=t},GetProgressId:function(){return this.loadIndex},SetProgressId:function(t){this.loadIndex=t},GetStatus:function(){return this.gameStatus},SetStatus:function(t){this.gameStatus=t},PauseGame:function(){this.isGamePause=!0},ResumeGame:function(){this.isGamePause=!1,this.isGameReset=!1},Resetgame:function(){this.isGameReset=!0},setVolume:function(t,e){this._bgm_volume=t/100,this._sfx_volume=e/100},getBGMVolume:function(){return this._bgm_volume},getSFXVolume:function(){return this._sfx_volume},SetFrameRate:function(t){this._frameStatus=t},GetFrameRate:function(){return this._frameStatus?2:1}});e.exports=n,window.SetVolume=function(t,e){n.getInstance().setVolume(t,e)},window.SetCharacterInfo=function(t){n.getInstance().setcharNumber(t)},window.SendInitData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=n.getInstance().initJson||(n.getInstance()._setGender(e),n.getInstance()._setGun(i),n.getInstance().ReceiveJson(t,!0),!1)},window.SendStreamData=function(t,e,i,a,s){n.getInstance().isGameReset=!1,n.getInstance().isGamePause=!1,n.getInstance()._setScore(e,i,a),n.getInstance().ReceiveJson(t),n.getInstance().SetProgressId(0),n.getInstance().SetStatus(!0),n.getInstance().setClearMotion(s)},window.SetProgressId=function(t){n.getInstance().SetProgressId(t)},window.OnClickPlay=function(){n.getInstance().isGameReset=!1,n.getInstance().isGamePause=!1,n.getInstance().SetStatus(!0)},window.SetOptions=function(t){n.getInstance().SetOption(t)},window.InitOption=function(t){n.getInstance().InitOption(t)},window.ExternalPauseGame=function(){n.getInstance().PauseGame()},window.ExternalResumeGame=function(){n.getInstance().ResumeGame()},window.IsCocosGameLoad=function(){return!!n.getInstance().finalIndex},window.IsMiniGameClear=function(){return!!n.getInstance().minigameDone},window.SetupReset=function(){n.getInstance().Resetgame()},window.GameFrameNormal=function(){n.getInstance().SetFrameRate(!1)},window.GameFrameDouble=function(){n.getInstance().SetFrameRate(!0)},window.updateClearGoal=function(){},cc._RF.pop()},{}],Env:[function(t,e,i){"use strict";cc._RF.push(e,"79616xg/o1EEq25k+q+RW23","Env"),window.Env={OFFSET_X:96,OFFSET_Y:96,PLAYER_RADIO:48,SFX_FOOTSTEP_L:0,SFX_FOOTSTEP_R:1,SFX_DIRECTORY_PATH:"./sfx/",SFX_FILENAME_DROP_SWITCH:"drop_switch",SFX_FILENAME_LASER_SWITCH:"laser_switch",SFX_FILENAME_EXPLOSION:"explosion",SFX_FILENAME_EARN:"itemEarn",SFX_FILENAME_DROP_ITEM:"drop_item",SFX_FILENAME_LASER_ON:"laser_on",SFX_FILENAME_LASER_OFF:"laser_off",SFX_FILENAME_PARTS_DOCKING:"parts_done",SFX_ROCKET_LAUNCH_ANGLE_FILE:"launch",SFX_BTN_FILE:"btn",SFX_ERROR_FILE:"error",SFX_FILL_OIL_FILE:"fill_oil",SFX_ROCKET_GO_FILE:"spaceship_boost",SFX_TYPING_FILE:"typing",SFX_UI_OPEN_FILE:"open_ui",SFX_SHOT_FILE:"nomalShot",SFX_CHARGE_SHOT_FILE:"charge_shot",SFX_MONSTER_DEAD_FILE:"monster_dead",SFX_MINI_BTN_FILE:"mini_btn",MINIGAME_1_BG_FILE:"minigame_bg",SFX_MONSTER_M_ATK_FILE:"atk_melee_monster",SFX_MONSTER_R_ATK_FILE:"atk_range_monster",SFX_BOSS_SPECIAL_FILE:"boss_special",SFX_JUMP_FILE:"jump",SFX_FLAME_FILE:"flame",SFX_HEAL_FILE:"cure2",SFX_DIG_FILE:"dig",SFX_GET_IT_FILE:"getit",SFX_DATA_COLLECT_FILE:"collect",MINIGAME_2_BG_FILE:"minigame2_bgm",MINIGAME_2_CORRECT_FILE:"mini_correct",SFX_MINI_2_HIT_FILE:"mini2_hit",SFX_MINI_2_ERROR_FILE:"mini_error",STAGE3_INGAME_FILE:"stage3_in",STAGE2_INGAME_FILE:"stage2_in",STAGE1_INGAME_FILE:"stage1_in",BOSS_BGM_FILE:"boss_bgm",STAGE3_INGAME_BG:0,STAGE2_INGAME_BG:1,STAGE1_INGAME_BG:2,STAGE_BOSS_BG:3,MINIGAME_2_BG:4,SFX_DROP_SWITCH:5,SFX_LASER_ON:6,SFX_LASER_OFF:7,SFX_PARTS_DOCKING:8,SFX_BTN:9,SFX_ERROR:10,SFX_FILL_OIL:11,SFX_ROCKET_LAUNCH_ANGLE:12,SFX_ROCKET_GO:13,SFX_TYPING:14,SFX_OPEN_UI:15,SFX_SHOT:16,SFX_CHARGE_SHOT:17,SFX_MONSTER_DEAD:18,MINIGAME_1_BG:19,SFX_MINIGAME_BTN:20,SFX_MONSTER_M_ATK:21,SFX_MONSTER_R_ATK:22,SFX_BOSS_SPECIAL:23,SFX_JUMP:24,SFX_FLAME:25,SFX_HEAL:26,SFX_DIG:27,SFX_GET_IT:28,SFX_DATA_COLLECT:29,SFX_MINIGAME_2_CORRECT:30,SFX_MINI_2_HIT:31,SFX_MINI_2_ERROR:32,SFX_DROP_ITEM:33,SFX_LASER_BUTTON:34,SFX_BOMB:35,SFX_EARN_ITEM:36,FOOD:0,NORMAL_SWITCH_ON:1,NORMAL_SWITCH_OFF:2,LASER_SWITCH_ON:3,LASER_SWITCH_OFF:4,BATTERY:5,BOMB:6,ROCKET_EMPTY:7,ROCKET_FILLED:8,LASER_START_ON:9,LASER_MIDDLE_ON:10,LASER_END_ON:11,LASER_START_OFF:12,LASER_END_OFF:13,GOAL:14,VLASER_START_ON:15,VLASER_MIDDLE_ON:16,VLASER_END_ON:17,VLASER_START_OFF:18,DOOR_ON:19,DOOR_OFF:20,VARIATION_SWITCH_ON:21,VARIATION_SWITCH_OFF:22,MEDICINE:23,BOMB_BOX:24,BOSS_BOMB_BOX:25,MAX_LOAD_IMAGE_LENGTH:26,PRINT_POINT:99,INFO_POINT:100,NUMBER_POINT:101,MONSTER_INFO:102,DIRECTORY_PATH:"./$jin/",FOOD_BOX_FILE_NAME:"foodBox",N_SWITCH_ON_FILE_NAME:"nSwitch_on",N_SWITCH_OFF_FILE_NAME:"nSwitch_off",L_SWITCH_ON_FILE_NAME:"lSwitch_on",L_SWITCH_OFF_FILE_NAME:"lSwitch_off",BATTERY_FILE_NAME:"battery",BOMB_FILE_NAME:"bomb",ROCKET_EMPTY_FILE_NAME:"rocket_empty",ROCKET_FILLED_FILE_NAME:"rocket_fill",L_START_ON_FILE_NAME:"lStart_on",L_MIDDLE_FILE_NAME:"lMiddle_on",L_END_ON_FILE_NAME:"lEnd_on",L_START_OFF_FILE_NAME:"lStart_off",L_END_OFF_FILE_NAME:"lEnd_off",GOAL_FILE_NAME:"floor",VL_START_ON_FILE_NAME:"vlStart_on",VL_MIDDLE_ON_FILE_NAME:"vlMiddle_on",VL_END_ON_FILE_NAME:"vlEnd_on",VL_START_OFF_FILE_NAME:"vlStart_off",FLOOR_FILE_NAME:"floor",DOOR_ON_FILE:"obj_door_f",DOOR_OFF_FILE:"obj_door_s",VARIATION_SWITCH_ON_FILE:"lSwitch_on",VARIATION_SWITCH_OFF_FILE:"lSwitch_off",MEDICINE_FILE:"medicine",BOMB_BOX_FILE:"bomb_box",BOSS_BOMB_FILE:"item_bboom",DIRECTION_UP:"up",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",DIRECTION_DOWN:"down",PLAYER_DEFAULT_UP:0,PLAYER_DEFAULT_DOWN:1,PLAYER_DEFAULT_LEFT:2,PLAYER_DEFAULT_RIGHT:3,ANIMATION_LEFT:"leftRun",ANIMATION_RIGHT:"rightRun",ANIMATION_UP:"upRun",ANIMATION_DOWN:"downRun",ANIMATION_IDLE_LEFT:"left_idle",ANIMATION_IDLE_RIGHT:"right_idle",ANIMATION_IDLE_UP:"idle_back",ANIMATION_IDLE_DOWN:"idle_front",ANIMATION_LEFT_HIT:"hit_left",ANIMATION_RIGHT_HIT:"hit_right"},cc._RF.pop()},{}],Game2Manager:[function(t,e,i){"use strict";cc._RF.push(e,"1fb7azRzWRBr6EV+r/nOm83","Game2Manager");var n=t("../GameLogic/SoundManager"),a=t("../Controller"),s=t("Manager2");cc.Class({extends:cc.Component,properties:{card_totalLabel:cc.Label,ox_totalLabel:cc.Label,loadingPan:cc.Node,camera:cc.Camera,errorPage:cc.Node,gamestatus:0,jsonData:null,isAudioLoaded:!1,gamePattern:[],currentIndex:0,OX_GAME_NODE:cc.Node,btnO:cc.Button,btnX:cc.Button,oxGameLabel:cc.Label,resultOX:null,stringPattern:[],isDescription:!1,cardGameLabel:cc.Label,minimobArr:{default:[],type:cc.Node},cardManager:cc.Node,cardPickMonsterArray:[],cardGameStatus:0,pickPatNumber:0,resultCardGameArr:[],isLoopInterval:!1,CURRENT_GAME_TYPE:-1,currentGameID:0,startTime:null,waiting:!1,isHaveShuffleAnswer:!1,cardAnswerIdx:-1,cardObjectRow:{default:[],type:cc.Node},mobPickArr:[]},onLoad:function(){var t=this;this.loadingPan.active=!0,this.loadingPan.opacity=255,cc.loader.loadRes("minigame_2/minigame",function(e,i){e?cc.error(e):(t.jsonData=i.json.minigame,t.GameUpdator())})},start:function(){this.gamePattern=[[0,1,2,7,8,9],[10,11,12,13,14,15],[13,14,15,16,17,18],[10,1,3,16,9,3],[5,8,6,18,7,14],[9,14,16,3,10,4],[19,0,11,6,2,5],[11,14,15,17,18,19],[19,18,17,16,15,14],[13,12,11,10,9,8],[7,8,9,10,11,12]],this.stringPattern=["\uc584","\uad6c","\uc5d0","\uc724","\ucef4","\ud4e8","\ud55c","\uac2c","\ub79c","\uc84d","\ud1b5","\uc790","\ubcf4","\uc18c","\uc148","\ub219","\ub8e8","\ud130","\ud3ec","\ub85c","\ub808","\ub80c","\ud638","\uc548","\ubc30","\ub2ec","\ubc14","\uace8","\uae00","\uc720","\ube0c","\ud29c","\ud638","\ud504","\ucf5c","\ucf54","\ubabd","\ub4dc","\uace8","\uc548","\uae30"],this.AddEvnet()},GameUpdator:function(){var t=this;setTimeout(function(){t._HIDE()},500)},_HIDE:function(){var t=this,e=setInterval(function(){t.loadingPan.opacity<=30?(t.loadingPan.active=!1,clearInterval(e),a.getInstance().finalIndex=!0,setTimeout(function(){n.getInstance().AutoPlayBGM(Env.MINIGAME_2_BG),t._Starter()},1e3)):t.loadingPan.opacity-=3},5)},_Starter:function(){var t=this,e=setInterval(function(){switch(t.gamestatus){case 0:t._GameInit();break;case 1:t.currentIndex>=6?t.gamestatus=5:t.PickGame();break;case 2:case 3:break;case 4:t.currentIndex++,t.gamestatus=1;break;case 5:clearInterval(e),t.loadingPan.active=!0,t.loadingPan.opacity=255,a.getInstance().minigameDone=!0}t.ox_totalLabel.node.active&&(t.ox_totalLabel.string=t.currentIndex+1+"/6"),t.card_totalLabel.node.active&&(t.card_totalLabel.string=t.currentIndex+1+"/6")},30)},_GameInit:function(){this.currentIndex=0,this.gamestatus=1,this.cardManager.getComponent("CardManager").HideCards(),this.pickPatNumber=this.GetRandomNumber(11)},PickGame:function(){this.currentGameID=this.gamePattern[this.pickPatNumber][this.currentIndex],this.CURRENT_GAME_TYPE=this.GetGameType(this.currentGameID),0===this.CURRENT_GAME_TYPE?(this.ox_totalLabel.node.active=!1,this.card_totalLabel.node.active=!0,this.InitCardGame()):1===this.CURRENT_GAME_TYPE?(this.card_totalLabel.node.active=!1,this.ox_totalLabel.node.active=!0,this.InitOXGame()):console.log("Not Found Game"),this.gamestatus=2},InitCardGame:function(){this.OX_GAME_NODE.active=!1,this.cardObjectRow[0].active=!0,this.cardObjectRow[1].active=!0;var t=this.GetQuestionTitle(this.currentGameID),e=this.GetQuestionAnswer(this.currentGameID);this.resultCardGameArr=e,s.getInstance().InitResultArray(this.resultCardGameArr.length),this.ShowCardGameTitle(t);var i=this;setTimeout(function(){i.cardManager.getComponent("CardManager").InitCards(i.resultCardGameArr),i.StartCardGame()},3e3)},InitOXGame:function(){this.cardObjectRow[0].active=!1,this.cardObjectRow[1].active=!1,this.OX_GAME_NODE.active=!0,this.InitBtn(),this.isDescription=!1;var t=this.GetQuestionTitle(this.currentGameID),e=this.GetQuestionAnswer(this.currentGameID);this.resultOX=e,this.ShowOXGameTitle(t)},btnOLogic:function(){this.checkUp_O_Answer()},btnXLogic:function(){this.checkUp_X_Answer()},checkUp_O_Answer:function(){if("O"===this.resultOX){this.btnO.getComponent(cc.Animation).play("btnOn"),this.btnX.getComponent(cc.Animation).play("btnOff"),this.btnX.node.active=!1;var t=this;setTimeout(function(){t.gamestatus=4},1e3),n.getInstance().PlaySfx(Env.SFX_MINIGAME_2_CORRECT)}else n.getInstance().PlaySfx(Env.SFX_MINI_2_ERROR),this.cardManager.getComponent("CardManager").ShakeIt()},checkUp_X_Answer:function(){if("X"===this.resultOX){this.btnX.getComponent(cc.Animation).play("btnOn"),this.btnO.getComponent(cc.Animation).play("btnOff"),this.btnO.node.active=!1,n.getInstance().PlaySfx(Env.SFX_MINIGAME_2_CORRECT);var t=this;setTimeout(function(){t.isDescription=!0;var e="(\ud574\uc124)\n"+t.GetDescription(t.currentGameID);t.ShowOXGameTitle(e)},1e3)}else this.cardManager.getComponent("CardManager").ShakeIt(),n.getInstance().PlaySfx(Env.SFX_MINI_2_ERROR)},InitBtn:function(){this.btnO.getComponent(cc.Animation).play("btnOff"),this.btnX.getComponent(cc.Animation).play("btnOff"),this.btnO.node.active=!1,this.btnX.node.active=!1},GetRandomNumber:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.floor(Math.random()*t)+e},StartCardGame:function(){if(!this.isLoopInterval){this.isLoopInterval=!1;var t=this,e=setInterval(function(){switch(t.cardGameStatus){case 0:t.InitMob();break;case 1:t.CardGamePickNumber();break;case 2:t.ShowCardMiniMob();break;case 3:t.WaitForTime();break;case 4:clearInterval(e),t.CardGameClear(),t.gamestatus=4}},30)}},CardGameClear:function(){this.ShowCardGameTitle(""),this.cardManager.getComponent("CardManager").HideCards(),this.isLoopInterval=!1,this.cardGameStatus=0;for(var t=0;t<this.minimobArr.length;t++)this.minimobArr[t].getComponent("MiniMob").InitMob(t,this.getRandomString(),-1,!1);s.getInstance().ClearResultArray()},ShowCardMiniMob:function(){for(var t=0;t<this.mobPickArr.length;t++){var e=this.mobPickArr[t];this.minimobArr[e].getComponent("MiniMob").ShowMonster()}-1!==this.cardAnswerIdx&&!1===this.minimobArr[this.cardAnswerIdx].active&&this.minimobArr[this.cardAnswerIdx].getComponent("MiniMob").ShowMonster(),this.cardGameStatus=3},InitMob:function(){if(s.getInstance().IsCardGameClear())this.cardGameStatus=4;else{for(var t=0;t<this.minimobArr.length;t++)this.minimobArr[t].getComponent("MiniMob").InitMob(t,this.getRandomString(),-1,!1);this.isHaveShuffleAnswer=!0,this.cardAnswerIdx=this.GetRandomNumber(11);var e=this.GetQuestionAnswer(this.currentGameID),i=0;for(t=0;t<e.length;t++)if(!s.getInstance().IsClearArray(t)){i=t;break}var n=e[i];this.minimobArr[this.cardAnswerIdx].getComponent("MiniMob").InitMob(this.cardAnswerIdx,n,i,!0),this.cardGameStatus=1}},IsGameCleared:function(){return s.getInstance().IsCardGameClear()},CardGamePickNumber:function(){this.mobPickArr.length=0;var t;t=this.GetRandomNumber(11,4);for(var e=[],i=0;i<t;i++){var n=this.GetRandomNumber(11);if(e.length<1)e.push(n);else{if(this.IsHaveSameNumber(e,n))continue;e.push(n)}}this.mobPickArr=e,this.cardGameStatus=2},IsHaveSameNumber:function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},WaitForTime:function(){this.waiting||(this.startTime=Date.now(),this.waiting=!0,this.checkTime())},checkTime:function(){this.waiting&&((Date.now()-this.startTime)/1e3>3?(this.waiting=!1,this.cardGameStatus=0):setTimeout(this.checkTime.bind(this),30))},getRandomString:function(){var t=Math.floor(Math.random()*this.stringPattern.length);return this.stringPattern[t]},AddEvnet:function(){this.btnO.node.on("click",this.btnOLogic,this),this.btnX.node.on("click",this.btnXLogic,this)},GetQuestionTitle:function(t){return this.jsonData[t].title},GetQuestionAnswer:function(t){return 0===this.jsonData[t].type?this.jsonData[t].answer.split(""):1===this.jsonData[t].type?this.jsonData[t].answer:-1},GetDescription:function(t){var e=this.jsonData[t].type,i=this.jsonData[t].answer;return 1===e&&"X"===i?this.jsonData[t].description:-1},GetGameType:function(t){var e=this.jsonData[t].type;return-1===e?-1:e},ShowCardGameTitle:function(t){this.typeText(this.cardGameLabel,t,this.CallTypingEnd.bind(this))},ShowOXGameTitle:function(t){this.btnO.node.active=!1,this.btnX.node.active=!1,this.typeText(this.oxGameLabel,t,this.CallTypingEnd.bind(this))},CallTypingEnd:function(){var t=this;if(0===this.CURRENT_GAME_TYPE);else if(1===this.CURRENT_GAME_TYPE){t=this;this.isDescription?setTimeout(function(){t.gamestatus=4},1e3):(this.btnO.node.active=!0,this.btnX.node.active=!0)}},typeText:function(t,e,i){t.string="";var a=0;(function s(){a<e.length?(t.string+=e.charAt(a),a++,n.getInstance().PlaySfx(Env.SFX_TYPING),setTimeout(s,30)):i&&i()})()}}),cc._RF.pop()},{"../Controller":"Controller","../GameLogic/SoundManager":"SoundManager",Manager2:"Manager2"}],GameManager:[function(t,e,i){"use strict";cc._RF.push(e,"727210ZU8hOIIDBp99LB0z6","GameManager");var n=t("../Controller"),a=(t("./SoundManager"),t("./Loader")),s=t("./SoundManager");cc.Class({extends:cc.Component,properties:{btn_x_plus:cc.Button,btn_x_minus:cc.Button,btn_y_plus:cc.Button,btn_y_minus:cc.Button,btn_zoom_in:cc.Button,btn_zoom_out:cc.Button,btnMan:cc.Button,btnManSuit:cc.Button,btnWoman:cc.Button,btnWomanSuit:cc.Button,loadingBG:cc.Node,isLoaded:!1,isCameraShaked:!1,isPlay:!1,camera:cc.Camera,mapOffset:{default:[]},idx:{default:0,visiable:!1},gameMap:cc.TiledMap,player:cc.Node,spaceShip:cc.Node,bgNode:cc.Node,item:[],dropItemList:[],dropSwitchList:[],goalObject:cc.Node,objectParent:cc.Node,effectParent:cc.Node,audioManager:cc.Node,pList:[],pIdx:0,hList:[],hIdx:0,expList:[],expIdx:0,dropEffectList:[],dropEffectIdx:0,isPlayExplosion:!1,isSceneLoaded:!1,print_ui_object:cc.Node,print_ui_label:cc.Label,bomb_sprites:{default:[]},isShowVariation:!1,bomb_sprite_max_range:0,bomb_sprite_id:null,monster_list:[],monster_isDead:[],bossObject:cc.Node,currentStep:"",currentLevel:"",currentMap:null,currentDiff:null,print_point_array:[],objectPrintArray:[],objectInfoArray:[],print_idx:0,isShowWarnning:!1,errorPange:cc.Node,destroyPos:[],isEarned:!1,isPrintChangeStatus:!1,resultPanne:cc.Node,result_basic_label:cc.Label,result_bonus_label:cc.Label,result_line_label:cc.Label,result_total_label:cc.Label,_spd:60,btnX1:cc.Button,btnX2:cc.Button},addBtn:function(){this.btnMan.node.on("click",this.btnManShow,this),this.btnManSuit.node.on("click",this.btnManSuitShow,this),this.btnWoman.node.on("click",this.btnWomanShow,this),this.btnWomanSuit.node.on("click",this.btnWomanSuitShow,this),this.btn_x_plus.node.on("click",this.PlusX,this),this.btn_x_minus.node.on("click",this.MinusX,this),this.btn_y_plus.node.on("click",this.PlusY,this),this.btn_y_minus.node.on("click",this.MinusY,this),this.btn_zoom_in.node.on("click",this.ZoomInDeubug,this),this.btn_zoom_out.node.on("click",this.ZoomOutDebug,this),this.btnX1.node.on("click",this.normarSpeed,this),this.btnX2.node.on("click",this.fastSpeed,this)},normarSpeed:function(){this._spd=60,n.getInstance().SetFrameRate(!1)},fastSpeed:function(){this._spd=120,n.getInstance().SetFrameRate(!0)},PlusX:function(){var t=this.camera.node.position.x,e=this.camera.node.position.y;t+=50,this.camera.node.setPosition(cc.v3(t,e,0)),console.log(this.camera.node.position.x+" "+this.camera.node.position.y)},PlusY:function(){var t=this.camera.node.position.x,e=this.camera.node.position.y;e+=50,this.camera.node.setPosition(cc.v3(t,e,0)),console.log(this.camera.node.position.x+" "+this.camera.node.position.y)},MinusX:function(){var t=this.camera.node.position.x,e=this.camera.node.position.y;t-=50,this.camera.node.setPosition(cc.v3(t,e,0)),console.log(this.camera.node.position.x+" "+this.camera.node.position.y)},MinusY:function(){var t=this.camera.node.position.x,e=this.camera.node.position.y;e-=50,this.camera.node.setPosition(cc.v3(t,e,0)),console.log(this.camera.node.position.x+" "+this.camera.node.position.y)},ZoomInDeubug:function(){this.camera.zoomRatio+=.1,console.log("ratio => "+this.camera.zoomRatio)},ZoomOutDebug:function(){this.camera.zoomRatio-=.1,console.log("ratio => "+this.camera.zoomRatio)},btnManShow:function(){n.getInstance().setcharNumber(0)},btnManSuitShow:function(){n.getInstance().setcharNumber(1)},btnWomanShow:function(){n.getInstance().setcharNumber(2)},btnWomanSuitShow:function(){n.getInstance().setcharNumber(3)},onLoad:function(){this.addBtn(),this._InitPrintUI(),this.loadingBG.active=!0,this.EffectInit();var t=this,e=setInterval(function(){null!=a.getInstance().GetImage(0)&&(clearInterval(e),t.InitGame())},5)},_TileMapShake:function(){var t=this;setTimeout(function(){t.CameraMoveX(2)},300),setTimeout(function(){t.CameraMoveX(-2),t.LoadingFadeOut()},600)},CameraMoveX:function(t){var e=this.camera.node.position,i=e.x-t,n=cc.v3(i,e.y,e.z);this.camera.node.setPosition(n)},LoadingFadeOut:function(){this.loadingBG.active=!1,this.isLoaded=!0,n.getInstance().finalIndex=!0,this.InitialCamera()},InitGame:function(){this.bomb_sprites=[[],[],[]],this.mapOffset=[{x:0,y:2},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:1,y:-2},{x:0,y:-1},{x:-4,y:1},{x:-1,y:-2},{x:0,y:-1},{x:-4,y:1},{x:-1,y:-2},{x:0,y:-1},{x:-4,y:1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:0,y:-1},{x:-1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:1},{x:0,y:1},{x:-1,y:1},{x:0,y:1},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:-1,y:1},{x:0,y:-1},{x:1,y:2},{x:-1,y:1},{x:0,y:1},{x:1,y:2},{x:-1,y:1},{x:0,y:1},{x:1,y:2},{x:-1,y:1},{x:0,y:1},{x:0,y:2},{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:0},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1}],this.loadInit()},GetPointArray:function(){var t=n.getInstance().getInitOjbectDatas();if(null!=t&&""!=t&&!(t.length<1))for(var e=0;e<t.length;e++)if("print_point"===t[e].type){var i=t[e].id;this.print_point_array.push(i)}},loadInit:function(){var t=this,e=setInterval(function(){null!=n.getInstance().initJson&&(t.InitGameJsonInifo(),t.IsBonusStage()?t.bonusGameSceneLoaded(t.currentStep):(t.InitMap(),t.InitPlayer(),t.InitMonster(),t.InitBoss(),t.InitObject(),t.GetPointArray()),clearInterval(e))},5)},InitGameJsonInifo:function(){var t=n.getInstance().getInitStageData();this.currentLevel=t.level,this.currentStep=t.step,this.currentMap=t.map,this.currentDiff=t.diff,this.PlayBGM()},PlayBGM:function(){null!=this.currentMap&&0==s.getInstance().IsBgmPlayed()&&("3-4"===this.currentStep&&4===this.currentLevel?s.getInstance().AutoPlayBGM(Env.STAGE_BOSS_BG):1===this.currentMap?"1-4"===this.currentStep?s.getInstance().AutoPlayBGM(Env.MINIGAME_1_BG):s.getInstance().AutoPlayBGM(Env.STAGE1_INGAME_BG):2===this.currentMap?"2-4"===this.currentStep?s.getInstance().AutoPlayBGM(Env.MINIGAME_2_BG):s.getInstance().AutoPlayBGM(Env.STAGE2_INGAME_BG):3==this.currentMap&&s.getInstance().AutoPlayBGM(Env.STAGE3_INGAME_BG))},musicControll:function(){var t=n.getInstance().getBGMVolume(),e=n.getInstance().getSFXVolume();this.PlayBGM(),s.getInstance().SetVolume(t,e)},IsBonusStage:function(){var t=n.getInstance().getInitStageData().step;return"1-4"==t||"2-4"==t},bonusGameSceneLoaded:function(t){"1-4"===t?cc.director.loadScene("minigame1"):"2-4"===t&&cc.director.loadScene("minigame2")},ShakeEffect:function(){if(!this.isCameraShaked){this.isCameraShaked=!0;var t=cc.v2(5,0),e=this.camera.node.position.clone();this.camera.node.runAction(cc.sequence(cc.moveBy(.02,t),cc.moveBy(.04,t.neg()),cc.moveBy(.02,t.neg()),cc.moveBy(.04,t.neg()),cc.moveTo(0,e)))}},update:function(t){(this.musicControll(),this.isLoaded)&&(n.getInstance().GetStatus()&&this.OnCodePlay())},InitPlayer:function(){var t=n.getInstance().getInitPlayerData(),e=t.pos,i=t.dir,a=(t.hp,t.status,t.food_count,t.rocket_parts_count,this.GVector(e[0],e[1]));this.player.getComponent("Player").Init(a,i)},GVector:function(t,e){var i=1*t,a=-1*e,s=n.getInstance().getInitStageData(),o=s.step,r=s.diff,c=s.level,h=this.ConvertGameLevel(o,r,c);return cc.v2((i+this.mapOffset[h].x)*Env.OFFSET_X+Env.PLAYER_RADIO,(a-this.mapOffset[h].y)*Env.OFFSET_Y-Env.PLAYER_RADIO)},InitBoss:function(){var t=n.getInstance().getInitStageData(),e=t.step,i=t.level;if("3-4"===e&&3===i){var a=n.getInstance().getInitOjbectDatas();this.MakeUpBoss(a[0])}},InitMonster:function(){var t=n.getInstance().getInitStageData(),e=t.step,i=t.diff,a=t.level,s=this.ConvertGameLevel(e,i,a);if(!(s<56)&&85!=s&&88!==s&&91!==s)for(var o=n.getInstance().getInitOjbectDatas(),r=0;r<o.length;r++)this.IsMonsterType(o[r].type)&&(this.MakeUpMonster(o[r]),this.monster_isDead.push(!1))},MakeUpMonster:function(t){var e=this;cc.loader.loadRes("./prefabs/monster",cc.Prefab,function(i,n){if(i)cc.error("Error loading image: "+i);else{var a=t.pos[0],s=t.pos[1],o=cc.v2(a,s),r=cc.instantiate(n),c=e.GVector(o.x,o.y);r.getComponent("Monster").InitMonster(t,c),r.setPosition(c),e.monster_list.push(r),e.node.addChild(r)}})},MakeUpBoss:function(t){var e=this;cc.loader.loadRes("./prefabs/boss",cc.Prefab,function(i,n){if(i)cc.error("Error loading image: "+i);else{var a=t.pos[0]+2,s=t.pos[1],o=cc.v2(a,s),r=cc.instantiate(n),c=e.GVector(o.x,o.y);r.getComponent("Boss").InitBoss(t),r.setPosition(c),e.bossObject=r,e.node.addChild(r)}})},IsBoss:function(t){return"boss"===t},IsMonsterType:function(t){return"aggressive_monster_1"===t||("passive_monster"===t||("boss"===t||"aggressive_monster_2"===t))},UpdateMonster:function(t,e){if(!(t.length<1||this.monster_list.length<1))for(var i=0;i<t.length;i++){var n=this.FindMonsterByID(i);if(null!=n){if("number"!=typeof t[i]){var a=n.getComponent("Monster").GetID();if(-5===t[i].status){this.monster_isDead[a]=!1;var s=this.GVector(t[i].pos[0],t[i].pos[1]);n.getComponent("Monster").Movement(s,t[i].dir)}else if(-8===t[i].status||-4===t[i].status){if(1==this.monster_isDead[a])continue;this.monster_isDead[a]=!0,n.getComponent("Monster").ShowExplosion()}}n.getComponent("Monster").UpdateStatus(t[i],e)}}},UpdateBoss:function(t){t.length<1||null!=this.bossObject&&this.bossObject.getComponent("Boss").UpdateStatus(t[0])},FindMonsterByID:function(t){if(this.monster_list.length<1)return null;for(var e=0;e<this.monster_list.length;e++){if(t==this.monster_list[e].getComponent("Monster").GetID())return this.monster_list[e]}return null},ConvertGameLevel:function(t,e,i){var n=0;return"tutorial"===t?n=i-1:("1-1"===t&&"Easy"===e&&1===i&&(n=2),"1-1"===t&&"Easy"===e&&2===i&&(n=3),"1-1"===t&&"Easy"===e&&3===i&&(n=4),"1-1"===t&&"Normal"===e&&1===i&&(n=5),"1-1"===t&&"Normal"===e&&2===i&&(n=6),"1-1"===t&&"Normal"===e&&3===i&&(n=7),"1-1"===t&&"Hard"===e&&1===i&&(n=8),"1-1"===t&&"Hard"===e&&2===i&&(n=9),"1-1"===t&&"Hard"===e&&3===i&&(n=10),"1-2"===t&&"Easy"===e&&1===i&&(n=11),"1-2"===t&&"Easy"===e&&2===i&&(n=12),"1-2"===t&&"Easy"===e&&3===i&&(n=13),"1-2"===t&&"Normal"===e&&1===i&&(n=14),"1-2"===t&&"Normal"===e&&2===i&&(n=15),"1-2"===t&&"Normal"===e&&3===i&&(n=16),"1-2"===t&&"Hard"===e&&1===i&&(n=17),"1-2"===t&&"Hard"===e&&2===i&&(n=18),"1-2"===t&&"Hard"===e&&3===i&&(n=19),"1-3"===t&&"Easy"===e&&1===i&&(n=20),"1-3"===t&&"Easy"===e&&2===i&&(n=21),"1-3"===t&&"Easy"===e&&3===i&&(n=22),"1-3"===t&&"Normal"===e&&1===i&&(n=23),"1-3"===t&&"Normal"===e&&2===i&&(n=24),"1-3"===t&&"Normal"===e&&3===i&&(n=25),"1-3"===t&&"Hard"===e&&1===i&&(n=26),"1-3"===t&&"Hard"===e&&2===i&&(n=27),"1-3"===t&&"Hard"===e&&3===i&&(n=28),"2-1"===t&&"Easy"===e&&1===i&&(n=29),"2-1"===t&&"Easy"===e&&2===i&&(n=30),"2-1"===t&&"Easy"===e&&3===i&&(n=31),"2-1"===t&&"Normal"===e&&1===i&&(n=32),"2-1"===t&&"Normal"===e&&2===i&&(n=33),"2-1"===t&&"Normal"===e&&3===i&&(n=34),"2-1"===t&&"Hard"===e&&1===i&&(n=35),"2-1"===t&&"Hard"===e&&2===i&&(n=36),"2-1"===t&&"Hard"===e&&3===i&&(n=37),"2-2"===t&&"Easy"===e&&1===i&&(n=38),"2-2"===t&&"Easy"===e&&2===i&&(n=39),"2-2"===t&&"Easy"===e&&3===i&&(n=40),"2-2"===t&&"Normal"===e&&1===i&&(n=41),"2-2"===t&&"Normal"===e&&2===i&&(n=42),"2-2"===t&&"Normal"===e&&3===i&&(n=43),"2-2"===t&&"Hard"===e&&1===i&&(n=44),"2-2"===t&&"Hard"===e&&2===i&&(n=45),"2-2"===t&&"Hard"===e&&3===i&&(n=46),"2-3"===t&&"Easy"===e&&1===i&&(n=47),"2-3"===t&&"Easy"===e&&2===i&&(n=48),"2-3"===t&&"Easy"===e&&3===i&&(n=49),"2-3"===t&&"Normal"===e&&1===i&&(n=50),"2-3"===t&&"Normal"===e&&2===i&&(n=51),"2-3"===t&&"Normal"===e&&3===i&&(n=52),"2-3"===t&&"Hard"===e&&1===i&&(n=53),"2-3"===t&&"Hard"===e&&2===i&&(n=54),"2-3"===t&&"Hard"===e&&3===i&&(n=55),"3-1"===t&&"Easy"===e&&1===i&&(n=56),"3-1"===t&&"Easy"===e&&2===i&&(n=57),"3-1"===t&&"Easy"===e&&3===i&&(n=58),"3-1"===t&&"Normal"===e&&1===i&&(n=59),"3-1"===t&&"Normal"===e&&2===i&&(n=60),"3-1"===t&&"Normal"===e&&3===i&&(n=61),"3-1"===t&&"Hard"===e&&1===i&&(n=62),"3-1"===t&&"Hard"===e&&2===i&&(n=63),"3-1"===t&&"Hard"===e&&3===i&&(n=64),"3-2"===t&&"Easy"===e&&1===i&&(n=65),"3-2"===t&&"Easy"===e&&2===i&&(n=66),"3-2"===t&&"Easy"===e&&3===i&&(n=67),"3-2"===t&&"Normal"===e&&1===i&&(n=68),"3-2"===t&&"Normal"===e&&2===i&&(n=69),"3-2"===t&&"Normal"===e&&3===i&&(n=70),"3-2"===t&&"Hard"===e&&1===i&&(n=71),"3-2"===t&&"Hard"===e&&2===i&&(n=72),"3-2"===t&&"Hard"===e&&3===i&&(n=73),"3-3"===t&&"Easy"===e&&1===i&&(n=74),"3-3"===t&&"Easy"===e&&2===i&&(n=75),"3-3"===t&&"Easy"===e&&3===i&&(n=76),"3-3"===t&&"Normal"===e&&1===i&&(n=77),"3-3"===t&&"Normal"===e&&2===i&&(n=78),"3-3"===t&&"Normal"===e&&3===i&&(n=79),"3-3"===t&&"Hard"===e&&1===i&&(n=80),"3-3"===t&&"Hard"===e&&2===i&&(n=81),"3-3"===t&&"Hard"===e&&3===i&&(n=82),"3-4"===t&&"Easy"===e&&1===i&&(n=83),"3-4"===t&&"Easy"===e&&2===i&&(n=84),"3-4"===t&&"Easy"===e&&3===i&&(n=85),"3-4"===t&&"Normal"===e&&1===i&&(n=86),"3-4"===t&&"Normal"===e&&2===i&&(n=87),"3-4"===t&&"Normal"===e&&3===i&&(n=88),"3-4"===t&&"Hard"===e&&1===i&&(n=89),"3-4"===t&&"Hard"===e&&2===i&&(n=90),"3-4"===t&&"Hard"===e&&3===i&&(n=91)),n},InitMap:function(){var t=this,e="./map/"+this.GetMapURL();cc.loader.loadRes(e,cc.TiledMapAsset,function(e,i){e?cc.error("\ub9f5 \ub85c\ub529 \uc5d0\ub7ec: "+e):(t.gameMap.tmxAsset=i,t.gameMap.node.getChildByName("sh").opacity=150,t.MapSetupCamera())})},MapSetupCamera:function(){var t=this.gameMap.getMapSize(),e=this.gameMap.getTileSize(),i=t.height*e.height;this.gameMap.node.setPosition(0,3*-i),this._TileMapShake()},GetMapURL:function(){var t="",e=n.getInstance().getInitStageData(),i=(e.map,e.step),a=e.diff,s=e.level;if("tutorial"===i)t="map_T-"+s.toString();else{var o="Easy";switch(a){case"Easy":o="E";break;case"Normal":o="N";break;case"Hard":o="H"}t="map_"+i.toString()+"-"+o+"-"+s.toString()}return t},SetCamera:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5;this.camera.node.setPosition(cc.v3(t,e,0)),this.camera.zoomRatio=i},InitialCamera:function(){var t=n.getInstance().getInitStageData(),e=t.step,i=t.diff,a=t.level,s=this.ConvertGameLevel(e,i,a);switch(this.spaceShip.active=!1,s){case 0:case 1:this.SetCamera(-700,-870,1.4);break;case 2:case 3:case 5:case 6:this.SetCamera(-550,-1e3,1);break;case 8:case 9:this.SetCamera(-600,-970,1.2);break;case 4:case 7:case 10:this.SetCamera(-400,-1060,1);break;case 11:case 14:case 17:this.SetCamera(-300,-1200,.75);break;case 12:case 13:this.SetCamera(-200,-1050,.9);break;case 15:case 18:this.SetCamera(350,-1050,.7);break;case 16:case 19:this.SetCamera(650,-1e3,.58);break;case 20:case 23:case 26:this.SetCamera(140,-900,.8),this.spaceShip.setPosition(cc.v2(-4830,600)),this.spaceShip.active=!0;break;case 21:case 24:case 27:this.SetCamera(350,-900,.7),this.spaceShip.setPosition(cc.v2(-550,600)),this.spaceShip.active=!0;break;case 22:case 25:case 28:this.SetCamera(250,-1300,.7),this.spaceShip.setPosition(cc.v2(5260,-780)),this.spaceShip.active=!0;break;case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:this.SetCamera(-300,-850,.8);break;case 38:case 41:case 44:this.SetCamera(450,-800,.66);break;case 39:case 42:case 45:this.SetCamera(-200,-1050,.8);break;case 40:case 43:case 46:this.SetCamera(450,-1e3,.6);break;case 47:case 50:case 53:this.SetCamera(550,-950,.63);break;case 48:case 51:case 54:this.SetCamera(480,-650,.6);break;case 49:case 52:case 55:this.SetCamera(-400,-1050,.9);break;case 56:case 59:case 62:this.SetCamera(-400,-1050,1);break;case 57:case 60:case 63:this.SetCamera(250,-950,.8);break;case 58:case 61:case 64:this.SetCamera(-50,-1e3,1.1);break;case 65:case 68:case 71:this.SetCamera(-400,-1100,1);break;case 66:case 69:case 72:this.SetCamera(450,-700,.7);break;case 67:case 70:case 73:this.SetCamera(-200,-1350,.7);break;case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:this.SetCamera(250,-1050,.8);break;case 83:case 86:case 89:this.SetCamera(550,-850,.7);break;case 84:case 87:case 90:this.SetCamera(550,-900,.7);break;case 85:case 88:case 91:this.SetCamera(50,-1550,.6)}},EffectInit:function(){var t=this,e=[this.expList,this.hList,this.pList,this.dropEffectList];["/prefabs/explosion","/prefabs/heal","/prefabs/pickup","/prefabs/dropEffect"].forEach(function(i,n){for(var a=0;a<35;a++)cc.loader.loadRes(i,cc.Prefab,function(i,a){if(i)cc.error("\uc774\ubbf8\uc9c0 \ub85c\ub529 \uc5d0\ub7ec: "+i);else{var s=cc.instantiate(a);s.active=!1,t.effectParent.addChild(s),e[n].push(s)}})})},showEffect:function(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e>=t.length-1&&(e=0);var s=t[e];s.active=!0,s.setPosition(i);var o=s.getComponent(cc.Animation);return o.once("finished",function(){s.active=!1,t[e]=s,a&&a(),e++},this),o.play(n),e},ShowExplosion:function(t){var e=this;this.expIdx=this.showEffect(this.expList,this.expIdx,t,"explosion",function(){e.isCameraShaked=!1})},ShowHeal:function(t){this.hIdx=this.showEffect(this.hList,this.hIdx,t,"heal")},ShowPickup:function(t){this.pIdx=this.showEffect(this.pList,this.pIdx,t,"pickup",function(){s.getInstance().PlaySfx(Env.SFX_EARN_ITEM)})},ShowDropEffect:function(t){this.dropEffectIdx=this.showEffect(this.dropEffectList,this.dropEffectIdx,t,"dropeffect")},InitObject:function(){var t=n.getInstance().getInitStageData().goal_list;this.MakeGoal(t);var e=n.getInstance().getInitOjbectDatas();if(!(e.length<1)){for(var i=0;i<e.length;i++)this.MakeUpObject(e[i]),this.AddBombSprites(e[i]);this.ShowVariableBombSprites()}},MakeGoal:function(t){for(var e=0;e<t.length;e++)if("target"===t[e].goal){var i=t[e],n=cc.v2(i.pos[0],i.pos[1]);this.AddPrefabs(Env.GOAL,-1,n);break}},MakeUpObject:function(t){var e=t.type;if("laser"===e){var i=t.id,n=t.dir,a=t.pos_start[0],s=t.pos_start[1],o=t.status,r=cc.v2(a,s);this.AddLaserPrefab(Env.LASER_START_ON,i,r,o,n);var c=t.pos_end[0],h=t.pos_end[1],l=cc.v2(c,h);if(this.AddLaserPrefab(Env.LASER_END_ON,i,l,o,n),"h"===n)for(var _=a+1;_<c;_++){var u=cc.v2(_,s);this.AddLaserPrefab(Env.LASER_MIDDLE_ON,i,u,o,n)}else if("v"===n)for(_=s+1;_<h;_++){u=cc.v2(a,_);this.AddLaserPrefab(Env.LASER_MIDDLE_ON,i,u,o,n)}}else if("drop_switch"===e){var d=t.id,m=this.NameToTag(t.type),p=t.pos[0],I=t.pos[1],E=cc.v2(p,I),S=t.pos_drop[0],f=t.pos_drop[1],g=t.drop_type,v=this.NameToTag(g),b=cc.v2(S,f);this.AddDropSwitchPrefabs(m,d,E,v,b)}else{var A=this.NameToTag(t.type);if(-99==A)return;var y=t.pos[0],O=t.pos[1],N=t.id,L=cc.v2(y,O);o=t.status;A===Env.ROCKET_EMPTY?this.AddRocketParts(A,N,L,t):this.AddPrefabs(A,N,L,o,t)}},NameToTag:function(t){switch(t){case"food":return Env.FOOD;case"bomb":return Env.BOMB;case"rocket_parts":return Env.BATTERY;case"drop_switch":return Env.NORMAL_SWITCH_ON;case"laser_switch":return Env.LASER_SWITCH_ON;case"engines":case"solid_propellant":case"liquid_fuel":return Env.ROCKET_EMPTY;case"variation_switch":return Env.VARIATION_SWITCH_ON;case"door":return Env.DOOR_ON;case"medicine":return Env.MEDICINE;case"box":return Env.BOMB_BOX;case"print_point":return Env.PRINT_POINT;case"info_point":return Env.INFO_POINT;case"number_point":return Env.NUMBER_POINT;case"monster_info":return Env.MONSTER_INFO;default:return-99}},AddRocketParts:function(t,e,i,n){var a=this;cc.loader.loadRes("./prefabs/rocketParts",cc.Prefab,function(s,o){if(s)cc.error("Error loading image: "+s);else{var r=cc.instantiate(o);r.addComponent("Gobject"),r.getComponent("Gobject").Init(t,e);var c=a.GVector(i.x,i.y);switch(r.setPosition(c),n.require_dir){case"up":r.rotation=0;break;case"down":r.rotation=-180;break;case"left":r.rotation=-90;break;case"right":r.rotation=90}a.item.push(r),a.objectParent.addChild(r),a.objectParent.setLocalZOrder=10}})},AddPrefabs:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4?arguments[4]:void 0,s="",o=this,r=!1;switch(t){case Env.FOOD:s="food";break;case Env.NORMAL_SWITCH_ON:case Env.NORMAL_SWITCH_OFF:s="nSwitch";break;case Env.LASER_SWITCH_ON:case Env.LASER_SWITCH_OFF:s="lSwitch";break;case Env.BATTERY:s="battery";break;case Env.BOMB:"3-4"===this.currentStep&&3==this.currentLevel?(s="boss_bomb",r=!0):s="bomb";break;case Env.ROCKET_EMPTY:case Env.ROCKET_FILLED:s="rocketParts";break;case Env.GOAL:s="goal";break;case Env.FLOOR:s="floor";break;case Env.DOOR_ON:"v"===a.dir?s="door_v":"h"===a.dir&&(s="door");break;case Env.VARIATION_SWITCH_OFF:case Env.VARIATION_SWITCH_ON:s="variation_switch";break;case Env.MEDICINE:s="medicine";break;case Env.BOMB_BOX:s="bomb_box";break;case Env.PRINT_POINT:case Env.INFO_POINT:case Env.NUMBER_POINT:case Env.MONSTER_INFO:s="ui_quest"}if(""!=s){var c="./prefabs/"+s;cc.loader.loadRes(c,cc.Prefab,function(s,c){if(s)cc.error("Error loading image: "+s);else{var h=cc.instantiate(c),l=o.GVector(i.x,i.y);h.setPosition(l),h.addComponent("Gobject"),r?(o.destroyPos.push(l),h.getComponent("Gobject").Init(Env.BOSS_BOMB_BOX,e)):h.getComponent("Gobject").Init(t,e),0==n&&(h.getComponent("Gobject").Show(),h.getComponent("Gobject").Hide()),t===Env.GOAL?(o.goalObject=h,o.node.addChild(h)):t===Env.DOOR_ON?("v"===a.dir?h.getComponent("Gobject").SetDir("v"):"h"===a.dir&&h.getComponent("Gobject").SetDir("h"),o.item.push(h),o.node.addChild(h)):t===Env.PRINT_POINT?(o.objectPrintArray.push(h),o.node.addChild(h)):t===Env.INFO_POINT||t===Env.NUMBER_POINT||t==Env.MONSTER_INFO?(o.objectInfoArray.push(h),o.node.addChild(h)):(o.item.push(h),o.node.addChild(h))}})}else console.log("Not found Prefabs => "+t+" id => "+e)},createAndInitPrefab:function(t,e,i,n,a){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=this;cc.loader.loadRes(t,cc.Prefab,function(t,r){if(t)cc.error("\ud504\ub9ac\ud339 \ub85c\ub529 \uc5d0\ub7ec: "+t);else{var c=cc.instantiate(r);c.addComponent("Gobject"),c.getComponent("Gobject").Init(e,i),s&&c.getComponent("Gobject").DropItemHide(!0),c.setPosition(o.GVector(n.x,n.y)),o.node.addChild(c),a.push(c)}})},AddDropSwitchPrefabs:function(t,e,i,n,a){var s="./prefabs/food";n===Env.BATTERY?s="./prefabs/battery":n===Env.FOOD?s="./prefabs/food":n===Env.MEDICINE&&(s="./prefabs/medicine"),this.createAndInitPrefab("./prefabs/nSwitch",t,e,i,this.dropSwitchList),this.createAndInitPrefab(s,n,e,a,this.dropItemList,!0)},AddLaserPrefab:function(t,e,i,n,a){var s="laser",o=this;t===Env.LASER_MIDDLE_ON&&(s="laserMiddle");var r="./prefabs/"+s;cc.loader.loadRes(r,cc.Prefab,function(s,r){if(s)cc.error("Error loading image: "+s);else{var c=cc.instantiate(r);c.addComponent("Gobject"),c.getComponent("Gobject").Init(t,e);var h=!1;h=0!==n,c.getComponent("Gobject").LaserInitial(t,h,a);var l=o.GVector(i.x,i.y);c.setPosition(l),o.node.addChild(c),o.item.push(c)}})},PrintUIDialog:function(t){var e=n.getInstance().getInitStageData(),i=(e.step,e.level,t.player.status);if(19===i){var a=t.item_list;if("3-1"==this.currentStep&&"1"==this.currentLevel)return;var s=this.print_point_array[this.print_idx],o=a[s].print_array,r=a[s].status;if(-30===r){if(this.isPrintChangeStatus)return;this.isPrintChangeStatus=!0,this.ShowCheckPrint(null,!0)}else if(-20==r){if(this.isPrintChangeStatus)return;this.isPrintChangeStatus=!0,this.ShowCheckPrint(null,!1)}else{if(o.length<1)return;for(var c="",h=0;h<o.length;h++)c+=o[h]+" ";var l=c.toString();this.ShowPrintUI(l)}}else if(26===i){a=t.item_list;var _=this.GetPrintArrayInfo(t.player.player_check_array);this.ShowCheckPrint(_,!0)}else if(28==i){var u=this.GetPrintArrayInfo(t.player.player_check_array);this.ShowCheckPrint(u,!1)}else 2==i&&this._HidePrintUI()},GetPrintArrayInfo:function(t){var e=t;if(e.length<1)return null;for(var i="",n=0;n<e.length;n++)i+=e[n]+" ";return i.toString()},executeCommand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=n.getInstance().getCommandLine(t);if(-1===e)return!1;if(1===e.status||2===e.status)return 1===e.status&&n.getInstance().isGameClearMotion()?this.player.getComponent("Player").setPlayerEndAnimation():this.player.getComponent("Player").setIdleInit(),this.GameClearAllHideUI(),!1;this.InitGameResult(),this.ObjectUpdate(e.item_list),this.UpdateMonster(e.item_list,t);var i=e.player.status;this.PrintUIDialog(e);var a=this.GVector(e.player.pos[0],e.player.pos[1]);if(this.EffectControl(i,a),0==t)this.isPrintChangeStatus=!1,null!==this.bossObject&&this.bossObject.getComponent("Boss").HideSpecialAttack();else if(1==t){if(e.item_list.length<1)return;for(var s=e.item_list,o=0;o<s.length;o++)if(void 0!=s[o].hp){var r=this.FindMonsterByID(o);null!=r?r.getComponent("Monster").RandomMonsterHPInit(s[o].hp):console.log("NOt found Monster")}}var c=e.player.hit_status;return 2===c&&(this.bossObject.getComponent("Boss").SpecialAttack(),this.AllDestroyBomb()),1==c&&e.player.hp>1?this.player.getComponent("Player").SetHitStatus():(11!==i&&23!==i||this.ShowWarning(),this.player.getComponent("Player").setDirection(e.player.dir),this.player.getComponent("Player").setPlayerStatus(i),this.player.getComponent("Player")._movement(a)),this.UpdateBoss(e.item_list),!0},EffectControl:function(t,e){if(11===t)this.ShakeEffect(),this.ShowExplosion(e);else if(3===t){if(1==this.isEarned)return;this.isEarned=!0,this.ShowPickup(e)}else this.isEarned=!1},ObjectUpdate:function(t){if(!(t.length<1))for(var e=0;e<t.length;e++)this.ItemStatusUpdate(e,t[e]),this.DropSwitchUpdate(e,t[e])},AllDestroyBomb:function(){for(var t=0;t<this.item.length;t++)this.item[t].getComponent("Gobject").GetItemTag()===Env.BOSS_BOMB_BOX&&this.item[t].getComponent("Gobject").Hide();var e=this,i=0,n=setInterval(function(){i>=e.destroyPos.length-1&&clearInterval(n),e.ShowExplosion(e.destroyPos[i]),s.getInstance().PlaySfx(Env.SFX_BOMB),i++},100)},DropSwitchUpdate:function(t,e){for(var i=0;i<this.dropSwitchList.length;i++){var n=this.dropSwitchList[i].getComponent("Gobject"),a=n.GetItemID();if(a===t&&0===e){var s=(o=this.FindDropItem(a)).getComponent("Gobject");!1===o.active&&this.ShowDropEffect(o.position),s.DropItemShow(),n.Hide()}else if(a===t&&1===e){(s=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemHide(),n.Hide()}else if(a===t&&2===e){(s=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemShow(),n.Show()}else if(a===t&&3===e){var o;(s=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemHide(),n.Show()}}},FindDropItem:function(t){for(var e=0;e<this.dropItemList.length;e++)if(this.dropItemList[e].getComponent("Gobject").GetItemID()===t)return this.dropItemList[e]},_InitPrintUI:function(){this.print_ui_object.active=!1,this.print_ui_object.scale=cc.v2(1,0),this.print_ui_label.string="",this.print_idx=0},_OpenPrintUI:function(){this.print_ui_object.active||(this.print_ui_object.active=!0,this.print_ui_object.getComponent(cc.Animation).play("ui_open"),s.getInstance().PlaySfx(Env.SFX_OPEN_UI))},_HidePrintUI:function(){!1!==this.print_ui_object.active&&(this.print_idx<this.print_point_array.length-1&&this.print_idx++,this.isPrintChangeStatus=!1,this.print_ui_object.active=!1,this.print_ui_object.scale=cc.v2(1,0),this.print_ui_label.string="")},ShowCheckPrint:function(t,e){this._OpenPrintUI();var i=this;this.print_ui_label.string!==t&&(s.getInstance().PlaySfx(Env.SFX_TYPING),setTimeout(function(){!0===e?i.print_ui_object.getComponent(cc.Animation).play("dialog_suc"):i.print_ui_object.getComponent(cc.Animation).play("dialog_fail")},300)),null!==t&&(this.print_ui_label.string=t)},ShowPrintUI:function(t){this._OpenPrintUI(),this.print_ui_label.string!==t&&s.getInstance().PlaySfx(Env.SFX_TYPING),this.print_ui_label.string=t},AddBombSprites:function(t){if(this.NameToTag(t.type)===Env.BOMB){var e=t.variation_no;if(null!=e){var i=t.pos[0],n=t.pos[1],a=cc.v2(i,n),s=this;cc.loader.loadRes("./prefabs/var_bomb",cc.Prefab,function(t,i){if(t)cc.error("Error loading image: "+t);else{var n=cc.instantiate(i);n.opacity=0;var o=s.GVector(a.x,a.y);if(n.setPosition(o),s.bomb_sprite_max_range=s.bomb_sprite_max_range>e[0]?s.bomb_sprite_max_range:e[0],1==e.length)switch(e[0]){case 1:s.bomb_sprites[0].push(n);break;case 2:s.bomb_sprites[1].push(n);break;case 3:s.bomb_sprites[2].push(n);break;case 4:s.bomb_sprites[3].push(n);break;case 5:s.bomb_sprites[4].push(n)}else for(var r=0;r<e.length;r++)switch(e[r]){case 1:s.bomb_sprites[0].push(n);break;case 2:s.bomb_sprites[1].push(n);break;case 3:s.bomb_sprites[2].push(n);break;case 4:s.bomb_sprites[3].push(n);break;case 5:s.bomb_sprites[4].push(n)}s.node.addChild(n)}})}}},ShowVariableBombSprites:function(){var t=this;setInterval(function(){n.getInstance().getCurrentCommandID()>2?t._HideVariableSprites():t._ShowVariableSprites()},30)},_HideVariableSprites:function(){if(!1!==this.isShowVariation){this.isShowVariation=!1,clearInterval(this.bomb_sprite_id);for(var t=0;t<this.bomb_sprites.length;t++)for(var e=0;e<this.bomb_sprites[t].length;e++)this.bomb_sprites[t][e].opacity=0,this.bomb_sprites[t][e].active=!1}},_ShowVariableSprites:function(){if(!this.isShowVariation){this.isShowVariation=!0;var t=3,e=90;this.bomb_sprites[0].length>20&&(e=210,t=1);var i=0,n=[0,0,0,0,0,0,0],a=this;this.bomb_sprite_id=setInterval(function(){if(n[i]>250){n[i]=0;for(var e=0;e<a.bomb_sprites[i].length;e++)a.bomb_sprites[i][e].opacity=0;i>=a.bomb_sprite_max_range-1?i=0:i++}else for(e=0;e<a.bomb_sprites[i].length;e++)a.bomb_sprites[i][e].opacity=n[i],n[i]+=t},e)}},GameClearAllHideUI:function(){this._InitPrintUI()},ItemStatusUpdate:function(t,e){for(var i=0;i<this.item.length;i++){var n=this.item[i].getComponent("Gobject"),a=n.GetItemID(),o=n.GetItemTag();o!==Env.PRINT_POINT&&o!=Env.INFO_POINT&&(o!=Env.NUMBER_POINT&&o!==Env.MONSTER_INFO&&(o==Env.DOOR_ON?a===t&&0===e?(n.node.active&&(this.ShowDropEffect(n.node.position),s.getInstance().PlaySfx(Env.SFX_PARTS_DOCKING)),n.Hide(),this.AllHidePrintObject()):n.GetItemID()===t&&1===e&&(n.Show(),this.AllShowPrintObject()):a===t&&0===e?n.Hide():(n.GetItemID()===t&&1===e||n.GetItemID()==t&&2===e)&&(o===Env.BOSS_BOMB_BOX?("3-4"===this.currentStep&&3===this.currentLevel&&!1===this.item[i].active&&(this.ShowDropEffect(this.item[i].position),s.getInstance().PlaySfx(Env.SFX_DROP_ITEM)),1===e?(n.Unexploded(!0),n.Show()):2===e&&(n.Unexploded(!1),n.Show())):1==e&&n.Show())))}},AllHidePrintObject:function(){for(var t=0;t<this.objectInfoArray.length;t++)this.objectInfoArray[t].getComponent("Gobject").Hide();for(t=0;t<this.objectPrintArray.length;t++)this.objectPrintArray[t].getComponent("Gobject").Hide()},AllShowPrintObject:function(){for(var t=0;t<this.objectInfoArray.length;t++)this.objectInfoArray[t].getComponent("Gobject").Show();for(t=0;t<this.objectPrintArray.length;t++)this.objectPrintArray[t].getComponent("Gobject").Show()},OnCodePlay:function(){if(!this.isPlay){var t=this;this.isPlay=!0,this.idx=n.getInstance().GetProgressId(),this._spd=60*n.getInstance().GetFrameRate();var e=setInterval(function(){if(n.getInstance().isGamePause){var i=n.getInstance().GetProgressId();t.idx=i}else t.player.getComponent("Player").ResetInint(),!1===t.executeCommand(t.idx)&&(t.ResetDetector(),clearInterval(e),t.isPlay=!1,n.getInstance().SetStatus(!1)),t.idx++},1e3/this._spd)}},ResetDetector:function(){var t=this,e=setInterval(function(){-1===n.getInstance().getCommandLine(t.idx)&&n.getInstance().isGameReset&&(t.executeCommand(0),t.player.getComponent("Player").ResetPlayer(),t.OnCodePlay(),clearInterval(e))},1e3/this._spd)},ShowWarning:function(){this.isShowWarnning||(this.isShowVariation=!0,this._shakeIt())},_shakeIt:function(){var t=this,e=this.camera,i=[],n=e.position;this.errorPange.active=!0;for(var a=0;a<4;a++){var s=2*(Math.random()-.5)*15.2,o=2*(Math.random()-.5)*15.2,r=cc.delayTime(.02),c=cc.moveBy(.02,cc.v2(s,o)),h=cc.moveBy(.02,cc.v2(-s,-o));i.push(r,c,h)}var l=cc.callFunc(function(){t.errorPange.active=!1,e.position=n,t.isShowWarnning=!1}),_=cc.sequence(i[0],i[1],i[2],i[3],l);e.node.runAction(_)},ShowGameResult:function(t){if(this.resultPanne.active=!0,2===t)this.resultPanne.getComponent(cc.Animation).play("game_fail");else if(1===t){var e=0;switch(this.currentDiff){case"Easy":e=200;break;case"Normal":e=400;break;case"Hard":e=1e3}this.result_basic_label.string="\ud074\ub9ac\uc5b4\uc810\uc218:"+n.getInstance().GetCurrentBasicScore()+"P",this.result_bonus_label.string="\ub77c\uc778\ubcf4\ub108\uc2a4: +"+n.getInstance().GetBonusScore()+"P",this.result_line_label.string="\ucd5c\uc18c\ub77c\uc778\uc218("+n.getInstance().GetLineLimitScore()+")",this.result_total_label.string="\ud569\uacc4 ("+n.getInstance().GetTotalScore()+"P / "+e+"P)",this.resultPanne.getComponent(cc.Animation).play("game_suc")}},InitGameResult:function(){this.resultPanne.active=!1}}),cc._RF.pop()},{"../Controller":"Controller","./Loader":"Loader","./SoundManager":"SoundManager"}],Gobject:[function(t,e,i){"use strict";cc._RF.push(e,"e58f19MSUlGgK4r9ykmwmrh","Gobject");var n=t("../GameLogic/Loader"),a=t("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{itemId:0,itemTAG:0,isStatusChange:!1,laser_direction:"h"},Init:function(t,e){this.ChangeSprite(t),this.itemId=e,this.itemTAG=t,this.isStatusChange=!0,t===Env.GOAL&&this.node.getComponent(cc.Animation).play("goal")},GetItemTag:function(){return this.itemTAG},GetItemID:function(){return this.itemId},Unexploded:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.node.getChildByName("flash_add_1");e.active=!0===t},LaserInitial:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.laser_direction=i,"h"===i?e?t===Env.LASER_START_ON?this.ChangeSprite(Env.LASER_START_ON):t===Env.LASER_MIDDLE_ON?(this.node.active=!0,this.ChangeSprite(Env.LASER_MIDDLE_ON)):t===Env.LASER_END_ON&&this.ChangeSprite(Env.LASER_END_ON):(this.isStatusChange=!0,t===Env.LASER_START_ON?this.ChangeSprite(Env.LASER_START_OFF):t===Env.LASER_MIDDLE_ON?this.node.active=!1:t===Env.LASER_END_ON&&this.ChangeSprite(Env.LASER_END_OFF)):e?t===Env.LASER_START_ON?this.ChangeSprite(Env.VLASER_START_ON):t===Env.LASER_MIDDLE_ON?(this.node.active=!0,this.ChangeSprite(Env.VLASER_MIDDLE_ON)):t===Env.LASER_END_ON&&(this.node.active=!0,this.ChangeSprite(Env.VLASER_END_ON)):(this.isStatusChange=!0,t===Env.LASER_START_ON?this.ChangeSprite(Env.VLASER_START_OFF):t===Env.LASER_MIDDLE_ON?this.node.active=!1:t===Env.LASER_END_ON&&(this.node.active=!1))},Hide:function(){if(!1!==this.isStatusChange)if(this.isStatusChange=!1,this.itemTAG===Env.LASER_START_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_START_OFF):this.ChangeSprite(Env.VLASER_START_OFF);else if(this.itemTAG===Env.LASER_END_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_END_OFF):this.node.active=!1;else if(this.itemTAG===Env.LASER_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_LASER_BUTTON),this.ChangeSprite(Env.LASER_SWITCH_OFF);else if(this.itemTAG===Env.ROCKET_EMPTY)this.ChangeSprite(Env.ROCKET_EMPTY);else if(this.itemTAG===Env.NORMAL_SWITCH_ON)this.ChangeSprite(Env.NORMAL_SWITCH_OFF);else if(this.itemTAG===Env.VARIATION_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_LASER_BUTTON),this.ChangeSprite(Env.VARIATION_SWITCH_OFF);else{if(!1===this.node.active)return;this.node.active=!1}},SetDir:function(t){"h"==t?this.ChangeSprite(Env.DOOR_ON):"v"==t&&this.ChangeSprite(Env.DOOR_OFF)},Show:function(){if(!this.isStatusChange)if(this.isStatusChange=!0,this.itemTAG===Env.LASER_START_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_START_ON):this.ChangeSprite(Env.VLASER_START_ON);else if(this.itemTAG===Env.LASER_END_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_END_ON):(this.node.active=!0,this.ChangeSprite(Env.VLASER_MIDDLE_ON));else if(this.itemTAG===Env.LASER_MIDDLE_ON)this.node.active=!0,"h"===this.laser_direction?this.ChangeSprite(Env.LASER_MIDDLE_ON):this.ChangeSprite(Env.VLASER_MIDDLE_ON);else if(this.itemTAG===Env.LASER_SWITCH_ON)this.ChangeSprite(Env.LASER_SWITCH_ON);else if(this.itemTAG===Env.ROCKET_EMPTY)this.ChangeSprite(Env.ROCKET_FILLED),a.getInstance().PlaySfx(Env.SFX_PARTS_DOCKING),this.ShowProofEffect();else if(this.itemTAG===Env.VARIATION_SWITCH_OFF)a.getInstance().PlaySfx(Env.SFX_LASER_BUTTON),this.ChangeSprite(Env.VARIATION_SWITCH_ON);else if(this.itemTAG===Env.NORMAL_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_DROP_SWITCH),this.ChangeSprite(Env.NORMAL_SWITCH_ON);else{if(!0===this.node.active)return;this.node.active=!0}},DropItemShow:function(){!0!==this.node.active&&(a.getInstance().PlaySfx(Env.SFX_DROP_ITEM),this.node.active=!0)},DropItemHide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!1!==this.node.active&&(t||a.getInstance().PlaySfx(Env.SFX_EARN_ITEM),this.node.active=!1)},ShowProofEffect:function(){var t=this.node.getChildByName("proof");t.active=!0;var e=t.getComponent(cc.Animation);e.on("finished",function(){t.active=!1},this),e.play("proof")},ChangeSprite:function(t){t!==Env.PRINT_POINT&&t!=Env.INFO_POINT&&t!==Env.NUMBER_POINT&&t!==Env.MONSTER_INFO&&(this.node.getComponent(cc.Sprite).spriteFrame=n.getInstance().GetImage(t))}});cc._RF.pop()},{"../GameLogic/Loader":"Loader","../GameLogic/SoundManager":"SoundManager"}],Loader:[function(t,e,i){"use strict";cc._RF.push(e,"5b28f8Sy3hCNK12RzDq3AFJ","Loader");var n=cc.Class({extends:cc.Component,statics:{_instance:null,getInstance:function(){return n._instance||(n._instance=new n,n._instance.init()),n._instance}},properties:{initStatus:!1,spr:[]},init:function(){this._LoadImage()},_LoadImage:function(){var t=this;return!this.initStatus&&(this.initStatus=!0,this.spr=new Array(Env.MAX_LOAD_IMAGE_LENGTH).fill(null),cc.loader.loadRes(Env.DIRECTORY_PATH+"atlas",cc.SpriteAtlas,function(e,i){if(e)console.error("Failed to load atlas:",e);else for(var n=[Env.FOOD_BOX_FILE_NAME,Env.N_SWITCH_ON_FILE_NAME,Env.N_SWITCH_OFF_FILE_NAME,Env.L_SWITCH_ON_FILE_NAME,Env.L_SWITCH_OFF_FILE_NAME,Env.BATTERY_FILE_NAME,Env.BOMB_FILE_NAME,Env.ROCKET_EMPTY_FILE_NAME,Env.ROCKET_FILLED_FILE_NAME,Env.L_START_ON_FILE_NAME,Env.L_MIDDLE_FILE_NAME,Env.L_END_ON_FILE_NAME,Env.L_START_OFF_FILE_NAME,Env.L_END_OFF_FILE_NAME,Env.GOAL_FILE_NAME,Env.VL_START_ON_FILE_NAME,Env.VL_MIDDLE_ON_FILE_NAME,Env.VL_END_ON_FILE_NAME,Env.VL_START_OFF_FILE_NAME,Env.DOOR_ON_FILE,Env.DOOR_OFF_FILE,Env.VARIATION_SWITCH_ON_FILE,Env.VARIATION_SWITCH_OFF_FILE,Env.MEDICINE_FILE,Env.BOMB_BOX_FILE,Env.BOSS_BOMB_FILE],a=0;a<n.length;a++){var s=i.getSpriteFrame(n[a]);s?t.spr[a]=s:console.error("Missing sprite frame for:",n[a])}}),!0)},GetImage:function(t){return t>=0&&t<this.spr.length?this.spr[t]:(console.warn("Invalid tag: "+t+"; Index should be between 0 and "+(this.spr.length-1)),null)}});cc._RF.pop()},{}],MainScene:[function(t,e,i){"use strict";cc._RF.push(e,"f9005BXbBNEYpWG4tPKUQe1","MainScene");var n=t("../GameLogic/SoundManager"),a=t("../Controller");cc.Class({extends:cc.Component,properties:{particle_1:cc.Node,partileFire:{default:[],type:[cc.Node]},movingTarget:cc.Node,spaceShip:cc.Node,objectCamera:cc.Camera,miniGameLayout:cc.Node,errorPange:cc.Node,phaseLeftParent:cc.Node,phaseLeftParent2:cc.Node,phase1Nodes:{default:[],type:[cc.Node]},phase1Object:cc.Node,energy_img:{default:[],type:[cc.SpriteFrame]},rocket_energy:{default:[],type:[cc.SpriteFrame]},phase2Nodes:{default:[],type:[cc.Node]},phase2EnergyFrame:cc.Node,phase2EnergyEmptyObject:cc.Node,phase2EnergyFillObject:cc.Node,phase2Object:cc.Node,limitLeftObject:cc.Node,limitRightObject:cc.Node,sliderBar:cc.Slider,targetObject:cc.Node,phase1StopBtn:cc.Button,phase2StopBtn:cc.Button,isDegreeReverse:!1,isProgressReverse:!1,isStopDegree:!1,isStopProgress:!1,degree:90,progressValue:0,dialog:[],dialongIndex:0,popupObject:cc.Node,popupLabel:cc.Label,popupBtn:cc.Button,status:0,phase2Level:0,levelVector:[],leftLimit:.3,rightLimit:.7,levelStatus:[],gauageSize:[],gauagePos:[],gauageArea:cc.Node},start:function(){a.getInstance().finalIndex=!0,this.particle_1.active=!1,this.partileFire[0].active=!1,this.partileFire[1].active=!1,this.levelStatus=[!1,!1,!1],this.levelVector=[cc.v2(-90,90),cc.v2(-45,90),cc.v2(-90,0)],this.gauageSize=[cc.v2(190,90),cc.v2(130,90),cc.v2(80,90)],this.gauagePos=[cc.v2(0,0),cc.v2(22.5,0),cc.v2(-45,0)],this.dialog=["\ubaa8\ub4e0 \uc900\ube44\uac00 \ub05d\ub0ac\uc2b5\ub2c8\ub2e4. \ubc1c\uc0ac\uac01\ub3c4\ub97c \uc870\uc815\ud558\uace0, \uc5f0\ub8cc\ub97c \uc8fc\uc785\ud574\uc8fc\uc138\uc694."],this.AddEvent(),this.GameUpdator()},update:function(){this.musicControll()},musicControll:function(){var t=a.getInstance().getBGMVolume(),e=a.getInstance().getSFXVolume();n.getInstance().SetVolume(t,e)},SpaceShipUpdator:function(){var t=this;if(1==this.status){this.spaceShip.active=!1;var e=cc.rotateTo(1,0),i=cc.spawn(cc.callFunc(function(){n.getInstance().PlaySfx(Env.SFX_ROCKET_LAUNCH_ANGLE)}),e),a=cc.delayTime(.5),s=cc.fadeOut(.5),o=cc.callFunc(function(){t.spaceShip.active=!0;var e=cc.v2(0,-80),i=cc.moveTo(.5,e);t.objectCamera.node.runAction(i)},this),r=cc.spawn(s,o),c=cc.callFunc(function(){t.ShowPopupMessage("\ubc1c\uc0ac\uccb4\uc5d0 \uc5f0\ub8cc\ub97c 3\ud68c \uc8fc\uc785\ud574\uc8fc\uc138\uc694!")},this),h=cc.sequence(i,a,r,c);this.movingTarget.runAction(h)}else if(3==this.status){var l=cc.v2(0,-250),_=cc.moveTo(.5,l),u=cc.callFunc(function(){t.objectCamera.zoomRatio=2,t.partileFire[0].active=!0,t.partileFire[1].active=!0}),d=cc.spawn(u,_),m=cc.callFunc(function(){t.ShakeObject(t.objectCamera.node,!1)}),p=cc.v2(0,1500),I=cc.moveTo(.5,p),E=cc.callFunc(function(){t.objectCamera.node.runAction(I)}),S=cc.delayTime(.1),f=cc.spawn(m,S),g=cc.repeat(f,80),v=cc.sequence(d,g,E);this.objectCamera.node.runAction(v);var b=[cc.v2(-5,-400),cc.v2(-5,200),cc.v2(-5,600),cc.v2(-5,1e3),cc.v2(-5,2500)],A=cc.moveTo(4,b[0]),y=cc.moveTo(3,b[1]),O=cc.moveTo(1,b[2]),N=cc.moveTo(1,b[3]),L=cc.moveTo(5,b[4]),T=cc.delayTime(.2),C=(i=cc.callFunc(function(){t.particle_1.active=!0,n.getInstance().PlaySfx(Env.SFX_ROCKET_GO)}),cc.callFunc(function(){t.particle_1.active=!1})),P=cc.spawn(T,i),F=cc.spawn(C,O),M=cc.callFunc(function(){t.status=10,t.ShowPopupMessage("\ubbf8\uc158 \uc131\uacf5! \uc6b0\uc8fc\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \ubaa8\ud5d8\uc744 \ub5a0\ub098\uc138\uc694!")});v=cc.sequence(P,A,y,F,N,L,M);this.spaceShip.runAction(v)}},GetPhase2LevelUpdate:function(){if(!(this.phase2Level>=3)){switch(this.phase2Level){case 0:this.leftLimit=.3,this.rightLimit=.7;break;case 1:this.leftLimit=.4,this.rightLimit=.7;break;case 2:case 3:this.leftLimit=.3,this.rightLimit=.4}this.limitLeftObject.position=cc.v2(this.levelVector[this.phase2Level].x,0),this.limitRightObject.position=cc.v2(this.levelVector[this.phase2Level].y,0),this.gauageArea.position=cc.v2(this.gauagePos[this.phase2Level].x,0),this.gauageArea.Size=cc.v2(this.gauageSize[this.phase2Level].x,this.gauageSize[this.phase2Level].y)}},onLoad:function(){this.InitUI()},GameUpdator:function(){this.ShowMessageBox(0);var t=setInterval(function(){n.getInstance().IsBgmPlayed()?clearInterval(t):n.getInstance().PlayBGM()},500)},InitUI:function(){this.miniGameLayout.active=!1,this.phase1Object.active=!1,this.phase2Object.active=!1},AddEvent:function(){this.sliderBar.interactable=!1,this.phase1StopBtn.node.on("click",this.Phase1StopAction,this),this.phase2StopBtn.node.on("click",this.Phase2StopAction,this),this.popupBtn.node.on("click",this.AcceptButtonAction,this)},HidePhase1Pannel:function(){this.phase1Object.active=!1,this.phaseLeftParent.active=!1},ShowPhase1LeftPannel:function(){var t=this;this.phaseLeftParent2.active=!1,this.phaseLeftParent.active=!0;var e=this.phase1Nodes.length,i=this;n.getInstance().PlaySfx(Env.SFX_OPEN_UI),this.phase1Nodes.forEach(function(n,a){n.opacity=0;var s=cc.delayTime(.2*a),o=cc.fadeIn(.8),r=cc.spawn(cc.callFunc(function(){}),o),c=cc.callFunc(function(){if(a===e-1){var n=i.phase1Nodes[i.phase1Nodes.length-1],s=cc.fadeOut(.2),o=cc.delayTime(.1),r=cc.fadeIn(.2),c=cc.sequence(s,o,r),h=cc.repeat(c,2);n.runAction(h),t.Phase1RightPannel()}}),h=cc.sequence(s,r,c);n.runAction(h)})},Phase1RightPannel:function(){var t=this;this.phase1Object.active=!0,this.phase1StopBtn.node.active=!1,this.phase1Object.scale=cc.v2(0,0);var e=cc.scaleTo(.5,1,1),i=cc.delayTime(.8),a=cc.spawn(cc.callFunc(function(){n.getInstance().PlaySfx(Env.SFX_OPEN_UI)}),e),s=cc.callFunc(function(){t.status=2,t.ShowPopupMessage("\ubc1c\uc0ac\uac01\ub3c4\ub97c 90\ub3c4\ub85c \uc870\uc815\ud574\uc8fc\uc138\uc694!"),t.DegreeGameStart()},this,"Hello World"),o=cc.sequence(a,i,s);this.phase1Object.runAction(o)},LaunchDegree:function(){this.phase2Object.active=!1,this.ShowPhase1LeftPannel(),this.HidePhase2Pannel()},HidePhase2Pannel:function(){this.phase2Object.active=!1},FilledOiled:function(t){var e=null;if(0==this.levelStatus[t]){switch(this.levelStatus[t]=!0,t){case 0:e=this.phase2Nodes[5];break;case 1:e=this.phase2Nodes[6];break;case 2:e=this.phase2Nodes[7]}e.getComponents(cc.Sprite).spriteFrame=this.rocket_energy[1],this.EnergyVisualize(t)}},EnergyVisualize:function(t){var e=[0,0],i=null;switch(t){case 0:e=[.5,.3],i=this.phase2Nodes[5].getComponent(cc.Sprite);break;case 1:e=[1,.5],i=this.phase2Nodes[6].getComponent(cc.Sprite);break;case 2:e=[1,1],i=this.phase2Nodes[7].getComponent(cc.Sprite)}i.spriteFrame=this.rocket_energy[1],this.updateSpriteFillRange(this.phase2EnergyEmptyObject.getComponent(cc.Sprite),e[0]),this.updateSpriteFillRange(this.phase2EnergyFillObject.getComponent(cc.Sprite),e[1])},updateSpriteFillRange:function(t,e){var i=setInterval(function(){t.fillRange>=e?(t.fillRange=e,clearInterval(i)):t.fillRange+=.01},5)},ShowPhase2LeftPannel:function(){var t=this;this.phaseLeftParent2.active=!0,this.phase2Object.active=!1,this.phase2Object.opacity=0;var e=this.phase2Nodes.length,i=this;this.limitLeftObject.active=!1,this.limitRightObject.active=!1,n.getInstance().PlaySfx(Env.SFX_OPEN_UI),this.phase2Nodes.forEach(function(n,a){n.opacity=0;var s=cc.delayTime(.2*a),o=cc.fadeIn(.5),r=cc.callFunc(function(){if(a===e-1){var n=t.phase2Nodes[t.phase2Nodes.length-1],s=cc.fadeOut(.2),o=cc.delayTime(.1),r=cc.fadeIn(.2),c=cc.sequence(s,o,r),h=cc.repeat(c,2);n.runAction(h);var l=t.phase2EnergyFrame.getComponent(cc.Sprite);l.fillRange=0;var _=setInterval(function(){l.fillRange>=1?(clearInterval(_),i.Phase2RightPannel()):l.fillRange+=.1},15)}}),c=cc.sequence(s,o,r);n.runAction(c)})},Phase2RightPannel:function(){var t=this;this.phase2Object.active=!0,this.phase2StopBtn.node.active=!1;var e=cc.fadeIn(.8),i=cc.delayTime(.5);n.getInstance().PlaySfx(Env.SFX_OPEN_UI),this.limitLeftObject.active=!0,this.limitRightObject.active=!0;var a=cc.callFunc(function(){t.status=4,t.ShowPopupMessage("\uc911\uc559 \uac8c\uc774\uc9c0\ubc14\uc5d0 \uc5f0\ub8cc\ub97c \uc8fc\uc785\ud574\uc8fc\uc138\uc694. \ud0c0\uc774\ubc0d\uc5d0 \ub9de\ucdb0\uc57c \ud569\ub2c8\ub2e4. ")}),s=cc.sequence(i,e,i,a);this.phase2Object.runAction(s)},LaunchBoost:function(){this.HidePhase1Pannel(),this.ShowPhase2LeftPannel(),this.phase2Object.active=!0},typeText:function(t,e,i){t.string="";var a=0;(function s(){a<e.length?(t.string+=e.charAt(a),a++,n.getInstance().PlaySfx(Env.SFX_TYPING),setTimeout(s,30)):i&&i()})()},ShowMessageBox:function(t){var e=this;this.popupObject.active=!0,this.popupBtn.node.active=!1,this.popupObject.scale=cc.v2(1,0);var i=cc.scaleTo(.5,1,1),n=cc.callFunc(function(){var i=e.dialog[t];e.typeText(e.popupLabel,i,e.CallTypingEnd.bind(e))}),a=cc.sequence(i,n);this.popupObject.runAction(a)},ShowPopupMessage:function(t){var e=this;this.popupLabel.string="",this.popupObject.active=!0,this.popupBtn.node.active=!1,this.popupObject.scale=cc.v2(1,0);var i=cc.scaleTo(.5,1,1),n=cc.callFunc(function(){e.typeText(e.popupLabel,t,e.CallTypingEnd.bind(e))}),a=cc.sequence(i,n);this.popupObject.runAction(a)},CallTypingEnd:function(){this.popupBtn.node.active=!0;var t=cc.scaleTo(.3,1.05,1.05),e=cc.scaleTo(.3,.95,.95),i=cc.sequence(t,e),n=cc.repeatForever(i);this.popupBtn.node.getChildByName("Background").getChildByName("Label").runAction(n)},AcceptButtonAction:function(){if(this.popupObject.active=!1,this.dialongIndex>=this.dialog.length-1)4===this.status?(this.phase2StopBtn.node.active=!0,this.ProgresGameStart()):3===this.status?(this.SpaceShipUpdator(),this.miniGameLayout.active=!1):2===this.status?this.phase1StopBtn.node.active=!0:1===this.status?(this.miniGameLayout.active=!0,this.LaunchBoost()):0===this.status?(this.miniGameLayout.active=!0,this.LaunchDegree()):10===this.status&&(a.getInstance().minigameDone=!0);else{this.dialongIndex++;var t=this;setTimeout(function(){t.ShowMessageBox(t.dialongIndex)},1e3)}n.getInstance().PlaySfx(Env.SFX_BTN)},ShakeObject:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[],s=t.position;i&&(n.getInstance().PlaySfx(Env.SFX_ERROR),this.errorPange.active=!0);for(var o=0;o<4;o++){var r=2*(Math.random()-.5)*15.2,c=2*(Math.random()-.5)*15.2,h=cc.delayTime(.02),l=cc.moveBy(.02,cc.v2(r,c)),_=cc.moveBy(.02,cc.v2(-r,-c));a.push(h,l,_)}var u=cc.callFunc(function(){e.errorPange.active=!1,t.position=s}),d=cc.sequence(a[0],a[1],a[2],a[3],u);t.runAction(d)},Phase1StopAction:function(){n.getInstance().PlaySfx(Env.SFX_MINIGAME_BTN),this.degree<=5?(this.status=1,this.StopDegreeLooper(),this.SpaceShipUpdator(),this.phase1StopBtn.node.active=!1,this.phaseLeftParent.active=!1,this.phase1Object.active=!1):this.ShakeObject(this.phase1Object)},Phase2StopAction:function(){n.getInstance().PlaySfx(Env.SFX_MINIGAME_BTN),this.progressValue>=this.leftLimit&&this.progressValue<=this.rightLimit?2==this.phase2Level?(this.FilledOiled(this.phase2Level),this.StopProgressLooper(),this.progressValue=.4,this.ShowPopupMessage("\uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4! \ubc1c\uc0ac\uac00 \uace7 \uc2dc\uc791\ub429\ub2c8\ub2e4."),this.status=3,this.phase2StopBtn.node.active=!1):(this.FilledOiled(this.phase2Level),this.phase2Level++,this.progressValue=0,n.getInstance().PlaySfx(Env.SFX_FILL_OIL)):this.ShakeObject(this.phase2Object)},StopDegreeLooper:function(){this.isStopDegree=!0},StopProgressLooper:function(){this.isStopProgress=!0},ProgresGameStart:function(){var t=this,e=setInterval(function(){t.GetPhase2LevelUpdate(),t.isStopProgress&&clearInterval(e),t.isProgressReverse?t.DecreaseProgress():t.IncreaseProgress(),t.sliderBar.progress=t.progressValue},15)},IncreaseProgress:function(){this.progressValue>=1?this.isProgressReverse=!0:0==this.phase2Level?this.progressValue+=.005:1==this.phase2Level?this.progressValue+=.01:this.progressValue+=.02},DecreaseProgress:function(){this.progressValue<=0?this.isProgressReverse=!1:0===this.phase2Level?this.progressValue-=.005:1===this.phase2Level?this.progressValue-=.01:this.progressValue-=.02},DegreeGameStart:function(){var t=this,e=setInterval(function(){t.isStopDegree&&clearInterval(e),t.isDegreeReverse?t.DecreaseDegree():t.IncreaseDegree(),t.targetObject.angle=t.degree},5)},IncreaseDegree:function(){this.degree>=90?this.isDegreeReverse=!0:this.degree+=.7},DecreaseDegree:function(){this.degree<=0?this.isDegreeReverse=!1:this.degree-=.5}}),cc._RF.pop()},{"../Controller":"Controller","../GameLogic/SoundManager":"SoundManager"}],Manager2:[function(t,e,i){"use strict";cc._RF.push(e,"97b44IK7nRCfK6e4ET7ZzBp","Manager2");var n=cc.Class({statics:{_instance:null,getInstance:function(){return n._instance||(n._instance=new n),n._instance}},properties:{resultArray:[]},InitResultArray:function(t){this.resultArray=new Array(t).fill(!1)},ClearResultArray:function(){this.resultArray.length=0,this.resultArray=[]},GetIt:function(t){this.resultArray[t]=!0},IsClearArray:function(t){return t>this.resultArray.length?(console.log("error out of range"),!1):this.resultArray[t]},IsCardGameClear:function(){for(var t=!1,e=0;e<this.resultArray.length;e++)t=!!this.resultArray[e];return t}});cc._RF.pop()},{}],MiniMob:[function(t,e,i){"use strict";cc._RF.push(e,"c18c1hofcRED6cdhtteBwzQ","MiniMob");var n=t("../GameLogic/SoundManager"),a=t("Manager2");cc.Class({extends:cc.Component,properties:{id:-1,isAnswer:!1,answerIndex:-1,isInit:!1,label:cc.Label,isClicked:!1,intervalID:null,cardManager:null},InitMob:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isAnswer=n,this.id=t,this.label.string=e,this.answerIndex=i,this.node.active=!1,this.isClicked=!1,clearInterval(this.intervalID)},ShowMonster:function(){this.node.active=!0,this.node.opacity=255,this.node.getComponent(cc.Animation).play("mob_show")},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onTouchStart,this),this.cardManager=cc.find("Game1/quest_title/card_parent")},onTouchStart:function(t){if(!this.isClicked){this.isClicked=!0,this.label.string="",this.node.getComponent(cc.Animation).play("mob_hit"),this.isAnswer?(a.getInstance().GetIt(this.answerIndex),this.cardManager.getComponent("CardManager").ShowCards(this.answerIndex),n.getInstance().PlaySfx(Env.SFX_MINIGAME_2_CORRECT)):(this.cardManager.getComponent("CardManager").ShakeIt(),n.getInstance().PlaySfx(Env.SFX_MINI_2_ERROR)),n.getInstance().PlaySfx(Env.SFX_MINI_2_HIT);var e=this;this.intervalID=setTimeout(function(){e.isClicked=!1,e.node.active=!1},1500)}}}),cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager",Manager2:"Manager2"}],Monster:[function(t,e,i){"use strict";cc._RF.push(e,"268ee8RgQ9ONZR8x927jAb0","Monster");var n=t("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{aniArray:{default:[]},monster_type:0,id:0,direction:"",status:"",init_position:null,init_json_data:null,monster_number:0,isDead:!1,deadIntevalID:null,timout:null,explosionPrefabs:cc.Node,monsterNameTack:cc.Node,nameLabel:cc.Label,hpBar:cc.ProgressBar,barBackground:cc.Node,maxHP:0,damageLabel:cc.Label,isShowedLabel:!1,isShowHitAnimation:!1},start:function(){this.aniArray=[["idle_left_red","idle_right_red","hit_left_red","hit_right_red","atk_left_red","atk_right_red","r_atk_left_red","r_atk_right_red"],["idle_left_yel","idle_right_yel","hit_left_yel","hit_right_yel","atk_left_yel","atk_right_yel","r_atk_left_yel","r_atk_right_yel"]]},GetID:function(){return this.id},InitMonster:function(t,e){if(this.init_position=e,this.id=t.id,this.init_json_data=t,this.hpBar.node.active=!1,this.monsterNameTack.active=!1,this.InitDeadStatus(),"aggressive_monster_2"===t.type)this._SetMonsterAnimation(0,0),this.monster_number=0,this.direction=2,this.monster_type=2,1==t.is_name_open?this.monsterNameTack.active=!0:this.monsterNameTack.active=!1,1==t.is_hp_open?this.hpBar.node.active=!0:this.hpBar.node.active=!1,this.nameLabel.string=t.name,this.maxHP=t.hp;else if("passive_monster"===t.type){this.monster_number=1,this.monster_type=0;var i=0;"left"==t.dir?this.direction=0:"right"==t.dir&&(this.direction=1,i=1),this._SetMonsterAnimation(1,i)}else"aggressive_monster_1"==t.type&&("left"===t.dir?this._SetMonsterAnimation(1,0):this._SetMonsterAnimation(1,1),this.direction=2,this.monster_number=1,this.monster_type=1)},RandomMonsterHPInit:function(t){this.maxHP=t,this.hp=t},ShowExplosion:function(){if(!this.isShowHitAnimation){this.isShowHitAnimation=!0,n.getInstance().PlaySfx(Env.SFX_BOMB),this.explosionPrefabs.getComponent(cc.Animation).play("explosion");var t=this;setTimeout(function(){t.isShowHitAnimation=!1},400)}},InitHitLable:function(){this.isShowedLabel=!1},ShowHitLabel:function(){if(!this.isShowedLabel){this.isShowedLabel=!0,0==this.monster_type?this.damageLabel.string="-999":1===this.monster_type?this.damageLabel.string="-999":2===this.monster_type&&(this.damageLabel.string="-20"),this.damageLabel.getComponent(cc.Animation).play("damage");var t=this;setTimeout(function(){t.InitHitLable()},400)}},HideMonster:function(){this.isDead||(this.isDead=!0,this.node.opacity=0)},UpdateStatus:function(t,e){if("number"!=typeof t)switch(this._UpdateHP(t.hp),t.status){case-10:this.InitDeadStatus(),this.InitHitLable();break;case-1:this.node.opacity=255;var i=0;1===this.direction&&(i=1),this._SetMonsterAnimation(this.monster_number,i);break;case-4:this.ShowHitLabel();break;case-6:case-11:if(2===this.monster_type||1===this.monster_type){i=6;"right"===t.dir&&(i=7),this._SetMonsterAnimation(this.monster_number,i)}break;case-9:this.Movement(this.init_position);i=0;1===this.direction&&(i=1),this._SetMonsterAnimation(this.monster_number,i),this.InitDeadStatus()}else switch(t){case-10:this.InitDeadStatus();break;case 1:i=6;1===this.direction&&(i=7),this._SetMonsterAnimation(this.monster_number,i);break;case-1:this.node.opacity=255;i=0;1===this.direction&&(i=1),this._SetMonsterAnimation(this.monster_number,i);break;case-3:i=2;1===this.direction&&(i=3),this._SetMonsterAnimation(this.monster_number,i);break;case-2:break;case-4:this.ShowHitLabel();break;case-6:case-11:if(0==this.monster_type){i=5;1===this.direction&&(i=4),this._SetMonsterAnimation(this.monster_number,i)}else if(2===this.monster_type){i=6;1===this.direction&&(i=7),this._SetMonsterAnimation(this.monster_number,i)}else{i=4;1===this.direction&&(i=5),this._SetMonsterAnimation(this.monster_number,i)}break;case-9:i=0;1===this.direction&&(i=1),this._SetMonsterAnimation(this.monster_number,i);break;case-8:if(e<2)this.HideMonster();else{if(this.IsDeadMonster())break;this.MonsterDeadAnimation()}}},InitDeadStatus:function(){this.isDead=!1,this.node.opacity=255,clearInterval(this.deadIntevalID),clearInterval(this.timout),this.Movement(this.init_position,this.direction),2===this.monster_type?(1===this.init_json_data.is_name_open?this.monsterNameTack.active=!0:this.monsterNameTack.active=!1,this._InitHP()):(this.hpBar.node.active=!1,this.monsterNameTack.active=!1)},IsDeadMonster:function(){return this.isDead},Movement:function(t,e){var i=0;"right"==e&&(i=1),this._SetMonsterAnimation(this.monster_number,i),this.node.setPosition(t)},convertToAnimationNumber:function(t){switch(t){case-1:return 0}return 0},_SetMonsterAnimation:function(t,e){var i=this.getComponent(cc.Animation),a=this.aniArray[t][e],s=i.getAnimationState(a);s.isPlaying||(2==e||3==e?this.isDead&&n.getInstance().PlaySfx(Env.SFX_MONSTER_DEAD):4==e||5===e?n.getInstance().PlaySfx(Env.SFX_MONSTER_M_ATK):6!==e&&7!==e||n.getInstance().PlaySfx(Env.SFX_MONSTER_R_ATK),s.speed=Controller.getInstance().GetFrameRate(),i.play(a))},_UpdateHP:function(t){2===this.monster_type&&(this.hpBar.progress=t/this.maxHP,this.hpBar.progress>.6?this.barBackground.color=new cc.Color(0,255,0):this.barBackground.color=new cc.Color(255,0,0))},_InitHP:function(){this.hpBar.progress=this.maxHP,this.barBackground.color=new cc.Color(0,255,0)},MonsterDeadAnimation:function(){if(!this.isDead){this.isDead=!0,1===this.direction?this._SetMonsterAnimation(this.monster_number,3):this._SetMonsterAnimation(this.monster_number,2);var t=this;this.timout=setTimeout(function(){t.deadIntervalID=setInterval(function(){t.node.opacity-=9,t.node.opacity<1&&clearInterval(t.deadIntervalID)},30)},300)}}}),cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager"}],ObjectLaiser:[function(t,e,i){"use strict";cc._RF.push(e,"edf33C2fGZLeKAKOApy4JPm","ObjectLaiser");var n=t("./Gobject");cc.Class({extends:n,properties:{number:0},Init:function(t,e){this._super(t),this.number=e}});cc._RF.pop()},{"./Gobject":"Gobject"}],Player:[function(t,e,i){"use strict";cc._RF.push(e,"46be6eeiGlMCpDkX0lZkvE+","Player");var n=t("Controller"),a=t("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{initPosition:null,direction:Env.DIRECTION_UP,bubble:cc.Node,bubbleLabel:cc.Label,isShowMessage:!1,playerIsDead:!1,playerStatusInfo:0,audioFootStep:{default:[],type:cc.AudioClip},audioStep:0,isPlaySound:!1,isBombAnimation:!1,isResetStatus:!1,aniArray:{default:[]},isRunningDetector:!1,mdID:null,healParticle:cc.Node,deadIntevalID:null,chargeShotParticle:cc.Node,chargeShotBot:cc.Node,flameEffect:cc.Node,isEncrypWordShowed:!1},start:function(){this.aniArray=[["idle_left_m","idle_right_m","idle_up_m","idle_down_m","run_left","run_right","run_up","run_down","hit_l_m","hit_r_m","","","","","","","","","","","","","","clear_m"],["idle_left_mh","idle_right_mh","idle_up_mh","idle_down_mh","run_left_mh","rum_right_mh","rum_up_mh","run_down_mh","hit_left_mh","hit_right_mh","atk_left_mh","atk_right_mh","jump_left_mh","jump_right_mh","jump_up_mh","jump_down_mh","charge_shot_mh","atk_left_mh_1","atk_right_mh_1","charge_shot_mh_1","atk_left_mh_2","atk_right_mh_2","charge_shot_mh_2","clear_m_h"],["idle_left_w","idle_right_w","idle_up_w","idle_down_w","run_left_w","run_right_w","run_up_w","run_down_w","hit_left_w","hit_right_w","","","","","","","","","","","","","","clear_w"],["left_idle_wh","right_idle_wh","idle_back_wh","idle_front_wh","leftRun_wh","rightRun_wh","upRun_wh","downRun_wh","hit_left_wh","hit_right_wh","attack_left_wh","attack_right_wh","jump_left_wh","jump_right_wh","jump_up_wh","jump_down_wh","charge_shot_wh","attack_left_wh_1","attack_right_wh_1","charge_shot_wh_1","attack_left_wh_2","attack_right_wh_2","charge_shot_wh_2","clear_wh"]],this.flameEffect.active&&(this.flameEffect.active=!1),this.healParticle.active&&(this.healParticle.active=!1)},ResetInint:function(){this.isResetStatus=!1},ResetPlayer:function(){this.isResetStatus||(this.isResetStatus=!0,this.direction===Env.DIRECTION_LEFT?this.ForcePlayerAnimation(0):this.direction===Env.DIRECTION_RIGHT?this.ForcePlayerAnimation(1):this.direction===Env.DIRECTION_UP?this.ForcePlayerAnimation(2):this.direction===Env.DIRECTION_DOWN&&this.ForcePlayerAnimation(3))},_movement:function(t){this.node.setPosition(t)},ShowFlameEffect:function(){var t=this;if(!this.flameEffect.active){this.flameEffect.active=!0;var e=this.flameEffect.getComponent(cc.Animation);e.play("flame"),a.getInstance().PlaySfx(Env.SFX_FLAME),e.on("finished",function(){t.flameEffect.active=!1},this)}},ShowChargeShotParticle:function(){this.chargeShotBot.getComponent(cc.Animation).play("shot_bot"),this.chargeShotParticle.getComponent(cc.Animation).play("charge_shot")},ShowHealParticle:function(){if(!this.healParticle.active){this.healParticle.active=!0,this.healParticle.getComponent(cc.ParticleSystem).resetSystem(),a.getInstance().PlaySfx(Env.SFX_HEAL);var t=this;setTimeout(function(){t.healParticle.active=!1},500)}},PlayFootStep:function(){if(!this.isPlaySound){this.isPlaySound=!0;var t=this;setTimeout(function(){t.isPlaySound=!1},300);var e=this.audioFootStep[this.audioStep];cc.audioEngine.play(e,!1,1,function(){1===this.audioStep?this.audioStep=0:this.audioStep=1}.bind(this))}},GetGunSkin:function(t){var e=n.getInstance().GetSkinInfo();if(0===e||void 0===e)return t;if(10===t)switch(e){case 1:return 17;case 2:return 20}else if(11===t)switch(e){case 1:return 18;case 2:return 21}else if(16===t)switch(e){case 1:return 19;case 2:return 22}return t},setPlayerEndAnimation:function(){this.setPlayerAnimation(23)},setIdleInit:function(){if(!this.playerIsDead){var t=0;switch(this.direction){case Env.DIRECTION_DOWN:t=3;break;case Env.DIRECTION_RIGHT:t=1;break;case Env.DIRECTION_UP:t=2}this.setPlayerAnimation(t)}},setPlayerAnimation:function(t){var e=this.GetGenderInfo(),i=this.getComponent(cc.Animation),s=this.GetGunSkin(t),o=this.aniArray[e][s],r=i.getAnimationState(o);null!=r&&(r.isPlaying||(10===s||11===s||17===s||18===s||20===s||21===s?a.getInstance().PlaySfx(Env.SFX_SHOT):16==s||19===s||22===s?a.getInstance().PlaySfx(Env.SFX_CHARGE_SHOT):15!==s&&12!==s&&13!=s&&14!==s||a.getInstance().PlaySfx(Env.SFX_JUMP),r.speed=n.getInstance().GetFrameRate(),i.play(o)))},GetGenderInfo:function(){var t=n.getInstance().getInitStageData().map,e=n.getInstance().GetGender();if(1===t)switch(e){case 0:return 0;case 1:return 2}else switch(e){case 0:return 1;case 1:return 3}},ForcePlayerAnimation:function(t){var e=this.GetGenderInfo(),i=this.getComponent(cc.Animation),n=this.aniArray[e][t];i.play(n)},changeSpriteDirection:function(){if(this.playerStatusInfo<2&&this.PlayerInitAnimation(),1===this.playerStatusInfo){switch(this.direction){case Env.DIRECTION_UP:this.setPlayerAnimation(6);break;case Env.DIRECTION_DOWN:this.setPlayerAnimation(7);break;case Env.DIRECTION_RIGHT:this.setPlayerAnimation(5);break;case Env.DIRECTION_LEFT:this.setPlayerAnimation(4)}this.PlayFootStep()}else if(11===this.playerStatusInfo){if(this.isBombAnimation)return;this.isBombAnimation=!0,this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(8):this.setPlayerAnimation(9);var t=this;setTimeout(function(){t.isBombAnimation=!1},1e3)}else if(21===this.playerStatusInfo)this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(12):this.direction===Env.DIRECTION_RIGHT?this.setPlayerAnimation(13):this.direction===Env.DIRECTION_UP?this.setPlayerAnimation(14):this.direction===Env.DIRECTION_DOWN&&this.setPlayerAnimation(15);else if(33===this.playerStatusInfo)this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(10):this.direction===Env.DIRECTION_RIGHT&&this.setPlayerAnimation(11);else if(9!==this.playerStatusInfo){if(38==this.playerStatusInfo||33===this.playerStatusInfo)return;this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(0):this.direction===Env.DIRECTION_RIGHT?this.setPlayerAnimation(1):this.direction===Env.DIRECTION_UP?this.setPlayerAnimation(2):this.direction===Env.DIRECTION_DOWN&&this.setPlayerAnimation(3)}},Init:function(t,e){this.initPosition=t,this.node.setPosition(t),this._HideBubble(),this.PlayerInitAnimation(),this.node.zIndex=cc.macro.MAX_ZINDEX-1;var i=0;switch(e){case Env.DIRECTION_LEFT:i=Env.PLAYER_DEFAULT_LEFT;break;case Env.DIRECTION_RIGHT:i=Env.PLAYER_DEFAULT_RIGHT;break;case Env.DIRECTION_UP:i=Env.PLAYER_DEFAULT_UP;break;case Env.DIRECTION_DOWN:i=Env.PLAYER_DEFAULT_DOWN}i===Env.PLAYER_DEFAULT_LEFT?this.setPlayerAnimation(0):i===Env.PLAYER_DEFAULT_UP?this.setPlayerAnimation(2):i===Env.PLAYER_DEFAULT_DOWN?this.setPlayerAnimation(3):i===Env.PLAYER_DEFAULT_RIGHT&&this.setPlayerAnimation(1)},playerInit:function(){healParticle.loop=!1,this.node.setPosition(this.initPosition),this.direction=Env.DIRECTION_RIGHT,this.changeSpriteDirection()},setDirection:function(t){this.direction=t},SetHitStatus:function(){this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(8):this.setPlayerAnimation(9)},setPlayerStatus:function(t){switch(this.playerStatusInfo=t,t){case 0:this.isEncrypWordShowed=!1,this.PlayerInitAnimation();break;case 1:switch(this.direction){case Env.DIRECTION_UP:this.setPlayerAnimation(6);break;case Env.DIRECTION_DOWN:this.setPlayerAnimation(7);break;case Env.DIRECTION_RIGHT:this.setPlayerAnimation(5);break;case Env.DIRECTION_LEFT:this.setPlayerAnimation(4)}this.PlayFootStep();break;case 2:this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(0):this.direction===Env.DIRECTION_RIGHT?this.setPlayerAnimation(1):this.direction===Env.DIRECTION_UP?this.setPlayerAnimation(2):this.direction===Env.DIRECTION_DOWN&&this.setPlayerAnimation(3);break;case 3:break;case 9:this.PlayerDealAnimation();break;case 10:this.ShowMessage("\ubc29\ud5a5\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc5b4!");break;case 11:if(this.isBombAnimation)return;this.isBombAnimation=!0,this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(8):this.setPlayerAnimation(9),a.getInstance().PlaySfx(Env.SFX_BOMB);var e=this;setTimeout(function(){e.isBombAnimation=!1},1e3);break;case 13:this.ShowMessage("\uc0ac\uc6a9\ud560\uc218 \uc5c6\ub294 \uba85\ub839\uc5b4 \uc57c!");break;case 14:this.ShowMessage("\ubb38\uc790\uc5f4\uc774 \uc798\ubabb \uc785\ub825 \ud588\uc5b4!");break;case 15:this.ShowMessage("\uace0\uccb4\ucd94\uc9c4\uc81c \uc7a5\ucc29!");break;case 16:this.ShowMessage("\uc561\uccb4\uc5f0\ub8cc \uc7a5\ucc29!");break;case 17:this.ShowMessage("\ucd94\uac00 \uc5d4\uc9c4 \uc7a5\ucc29!");break;case 18:this.ShowMessage("\uc798\ubabb\ub41c \uba85\ub839\uc5b4\uc57c!");break;case 21:this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(12):this.direction===Env.DIRECTION_RIGHT?this.setPlayerAnimation(13):this.direction===Env.DIRECTION_UP?this.setPlayerAnimation(14):this.direction===Env.DIRECTION_DOWN&&this.setPlayerAnimation(15);break;case 22:this.ShowMessage("\uc810\ud504 \ud558\uae30 \uc704\ud5d8\ud574!");break;case 23:this.ShowMessage("\uc73d.. "),this.ShowFlameEffect();break;case 24:this.ShowMessage("\uc0b4\uac83\uac19\uc544!"),this.ShowHealParticle();break;case 25:this.ShowMessage("\ud68c\ubcf5 \uc544\uc774\ud15c\uc774 \uc5c6\uc5b4!");break;case 27:this.ShowMessage("list\uac00 \ube44\uc5b4\uc788\ub294\ub370?");break;case 29:this.ShowMessage("\ud0c0\uc785\uc774 \ud2c0\ub9b0\uac70\uac19\uc544");break;case 30:this.ShowMessage("\ud3ed\ud0c4\uc124\uce58");break;case 31:this.ShowMessage("\ud3ed\ud0c4\uc774 \uc5c6\uc5b4!");break;case 33:this.direction===Env.DIRECTION_LEFT?this.setPlayerAnimation(10):this.direction===Env.DIRECTION_RIGHT&&this.setPlayerAnimation(11);break;case 37:this.ShowMessage("\ud68d\ub4dd \uc911");break;case 38:this.setPlayerAnimation(16),this.ShowChargeShotParticle();break;case 39:this.ShowMessage("\uc911\ub825\uc774 \ub108\ubb34 \uac15\ud574 \uc810\ud504\uac00 \uc5b4\ub824\uc6cc")}this.ProcessEncryptWord(this.playerStatusInfo)},ProcessEncryptWord:function(t){if(!(t<100)){var e=t-100,i=n.getInstance().getInitPrintPointArray(e)+" \ud68d\ub4dd";this.ShowMessage(i),this.isEncrypWordShowed||(this.isEncrypWordShowed=!0,a.getInstance().PlaySfx(Env.SFX_DATA_COLLECT))}},ShowPrintingBubble:function(){this.PrintMessage("\uc785\ub825")},PrintMessage:function(t){this.bubbleLabel.string=t,this._ShowBubble(),this.MessageDetector()},MessageDetector:function(){if(!this.isRunningDetector){this.isRunningDetector=!0;var t=this;this.mdID=setInterval(function(){19!=t.playerStatusInfo&&(setTimeout(function(){t._HideBubble()},500),t.InitMessageDetector())},30)}},InitMessageDetector:function(){this.isRunningDetector=!1,clearInterval(this.mdID)},ShowMessage:function(t){if(!this.isShowMessage){this.bubbleLabel.string=t,this._ShowBubble(),30===this.playerStatusInfo?a.getInstance().PlaySfx(Env.SFX_DIG):37===this.playerStatusInfo&&a.getInstance().PlaySfx(Env.SFX_GET_IT);var e=this;setTimeout(function(){e._HideBubble()},600)}},_HideBubble:function(){this.isShowMessage=!1,this.bubble.active=!1},_ShowBubble:function(){this.isShowMessage=!0,this.bubble.active=!0},PlayerInitAnimation:function(){!1!==this.playerIsDead&&(this.playerIsDead=!1,this.node.opacity=255,clearInterval(this.deadIntevalID))},PlayerDealAnimation:function(){if(!this.playerIsDead){this.playerIsDead=!0;var t=this;this.getComponent(cc.Animation);t.deadIntevalID=setInterval(function(e){t.node.opacity<1&&clearInterval(t.deadIntevalID),t.node.opacity-=20},20)}}});cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager",Controller:"Controller"}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"f474ez70q5GJ5iKnEUTFknO","SoundManager");var n=cc.Class({extends:cc.Component,statics:{_instance:null,getInstance:function(){return n._instance||(n._instance=new n,n._instance.init()),n._instance},MAX_SIZE:40},properties:{sound:{default:[],type:cc.AudioClip},isLoadedSFX:!1},init:function(){this._LoadSFX()},IsLoadCheck:function(){return this.sound.length>=3},PlaySfx:function(t){if(!(t>=this.sound.length||t<0)){var e=this.sound[t];e&&cc.audioEngine.playEffect(e,!1)}},_LoadSFX:function(){if(!this.isLoadedSFX){this.sound=new Array(this.MAX_SIZE).fill(null);var t=function(t,e){var i=this;cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+e,cc.AudioClip,function(e,n){e||(i.sound[t]=n)})};t.call(this,0,Env.STAGE3_INGAME_FILE),t.call(this,1,Env.STAGE2_INGAME_FILE),t.call(this,2,Env.STAGE1_INGAME_FILE),t.call(this,3,Env.BOSS_BGM_FILE),t.call(this,4,Env.MINIGAME_2_BG_FILE),t.call(this,5,Env.SFX_FILENAME_DROP_ITEM),t.call(this,6,Env.SFX_FILENAME_LASER_ON),t.call(this,7,Env.SFX_FILENAME_LASER_OFF),t.call(this,8,Env.SFX_FILENAME_PARTS_DOCKING),t.call(this,9,Env.SFX_BTN_FILE),t.call(this,10,Env.SFX_ERROR_FILE),t.call(this,11,Env.SFX_FILL_OIL_FILE),t.call(this,12,Env.SFX_ROCKET_LAUNCH_ANGLE_FILE),t.call(this,13,Env.SFX_ROCKET_GO_FILE),t.call(this,14,Env.SFX_TYPING_FILE),t.call(this,15,Env.SFX_UI_OPEN_FILE),t.call(this,16,Env.SFX_SHOT_FILE),t.call(this,17,Env.SFX_CHARGE_SHOT_FILE),t.call(this,18,Env.SFX_MONSTER_DEAD_FILE),t.call(this,19,Env.MINIGAME_1_BG_FILE),t.call(this,20,Env.SFX_MINI_BTN_FILE),t.call(this,21,Env.SFX_MONSTER_M_ATK_FILE),t.call(this,22,Env.SFX_MONSTER_R_ATK_FILE),t.call(this,23,Env.SFX_BOSS_SPECIAL_FILE),t.call(this,24,Env.SFX_JUMP_FILE),t.call(this,25,Env.SFX_FLAME_FILE),t.call(this,26,Env.SFX_HEAL_FILE),t.call(this,27,Env.SFX_DIG_FILE),t.call(this,28,Env.SFX_GET_IT_FILE),t.call(this,29,Env.SFX_DATA_COLLECT_FILE),t.call(this,30,Env.MINIGAME_2_CORRECT_FILE),t.call(this,31,Env.SFX_MINI_2_HIT_FILE),t.call(this,32,Env.SFX_MINI_2_ERROR_FILE),t.call(this,33,Env.SFX_FILENAME_DROP_SWITCH),t.call(this,34,Env.SFX_FILENAME_LASER_SWITCH),t.call(this,35,Env.SFX_FILENAME_EXPLOSION),t.call(this,36,Env.SFX_FILENAME_EARN),this.isLoadedSFX=!0}},PlayBGM:function(){var t=this.sound[Env.MINIGAME_1_BG];t&&cc.audioEngine.playMusic(t,!0)},AutoPlayBGM:function(t){if(!(t>=this.sound.length)){var e=this.sound[t];e&&cc.audioEngine.playMusic(e,!0)}},IsBgmPlayed:function(){return!!cc.audioEngine.isMusicPlaying()},SetVolume:function(t,e){cc.audioEngine.setMusicVolume(t),cc.audioEngine.setEffectsVolume(e)},IsStop:function(){cc.audioEngine.stopAll()}});cc._RF.pop()},{}]},{},["Controller","Env","GameManager","Loader","SoundManager","Boss","Gobject","Monster","ObjectLaiser","Player","MainScene","CardManager","Game2Manager","Manager2","MiniMob"]);